var vs=Object.defineProperty;var bs=(e,t,n)=>t in e?vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var me=(e,t,n)=>(bs(e,typeof t!="symbol"?t+"":t,n),n);import{r as p,c as ws,b as Ot}from"./vendor-f112c9cc.js";import{N as ye,u as Rt,a as kt,B as js,R as Ss,b as Q}from"./router-d788e231.js";import{Q as Es,a as Ns}from"./query-50768623.js";import{u as Pt,i as Cs,a as Os}from"./i18n-c21f4a4a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var Tt={exports:{}},Ee={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=p,ks=Symbol.for("react.element"),Ps=Symbol.for("react.fragment"),Ts=Object.prototype.hasOwnProperty,As=Rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_s={key:!0,ref:!0,__self:!0,__source:!0};function At(e,t,n){var s,a={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Ts.call(t,s)&&!_s.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:ks,type:e,key:o,ref:i,props:a,_owner:As.current}}Ee.Fragment=Ps;Ee.jsx=At;Ee.jsxs=At;Tt.exports=Ee;var r=Tt.exports,Be={},st=ws;Be.createRoot=st.createRoot,Be.hydrateRoot=st.hydrateRoot;var _t={exports:{}};_t.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};var Ls=_t.exports;const Ds="modulepreload",Us=function(e){return"/"+e},nt={},H=function(t,n,s){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Us(o),o in nt)return;nt[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!s)for(let d=a.length-1;d>=0;d--){const u=a[d];if(u.href===o&&(!i||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":Ds,i||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),i)return new Promise((d,u)=>{c.addEventListener("load",d),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},Fs={queries:{retry:(e,t)=>{var n,s,a,o;return((n=t==null?void 0:t.response)==null?void 0:n.status)>=400&&((s=t==null?void 0:t.response)==null?void 0:s.status)<500?((a=t==null?void 0:t.response)==null?void 0:a.status)===408||((o=t==null?void 0:t.response)==null?void 0:o.status)===429?e<2:!1:e<3},retryDelay:e=>Math.min(1e3*2**e,3e4),staleTime:5*60*1e3,cacheTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!0},mutations:{retry:!1,onError:e=>{var n,s;const t=((s=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:s.message)||(e==null?void 0:e.message)||"An error occurred";console.error("Mutation error:",t)}}},q=new Es({defaultOptions:Fs}),O={auth:{profile:["auth","profile"],permissions:["auth","permissions"]},blogPosts:{all:["blogPosts"],lists:()=>[...O.blogPosts.all,"list"],list:e=>[...O.blogPosts.lists(),e],details:()=>[...O.blogPosts.all,"detail"],detail:e=>[...O.blogPosts.details(),e],categories:["blogPosts","categories"],tags:["blogPosts","tags"]},users:{all:["users"],lists:()=>[...O.users.all,"list"],list:e=>[...O.users.lists(),e],details:()=>[...O.users.all,"detail"],detail:e=>[...O.users.details(),e]},organizations:{all:["organizations"],lists:()=>[...O.organizations.all,"list"],list:e=>[...O.organizations.lists(),e],details:()=>[...O.organizations.all,"detail"],detail:e=>[...O.organizations.details(),e]},events:{all:["events"],lists:()=>[...O.events.all,"list"],list:e=>[...O.events.lists(),e],details:()=>[...O.events.all,"detail"],detail:e=>[...O.events.details(),e]},resources:{all:["resources"],lists:()=>[...O.resources.all,"list"],list:e=>[...O.resources.lists(),e],details:()=>[...O.resources.all,"detail"],detail:e=>[...O.resources.details(),e]},activityLogs:{all:["activityLogs"],lists:()=>[...O.activityLogs.all,"list"],list:e=>[...O.activityLogs.lists(),e]},news:{all:["news"],lists:()=>[...O.news.all,"list"],list:e=>[...O.news.lists(),e],details:()=>[...O.news.all,"detail"],detail:e=>[...O.news.details(),e],categories:["news","categories"]}},Ms={prefetchCommonData:async()=>{await Promise.allSettled([q.prefetchQuery(O.auth.profile,()=>H(()=>Promise.resolve().then(()=>Tr),void 0).then(e=>e.getCurrentUser())),q.prefetchQuery(O.blogPosts.categories,()=>H(()=>Promise.resolve().then(()=>ae),void 0).then(e=>e.apiClient.get("/api/v1/blog/categories/"))),q.prefetchQuery(O.news.categories,()=>H(()=>Promise.resolve().then(()=>ae),void 0).then(e=>e.apiClient.get("/api/v1/news/categories/")))])},prefetchDashboardData:async()=>{const e={page:1,limit:10};await Promise.allSettled([q.prefetchQuery(O.blogPosts.list(e),()=>H(()=>Promise.resolve().then(()=>ae),void 0).then(t=>t.apiClient.get("/api/v1/blog/posts/",{params:e}))),q.prefetchQuery(O.users.list(e),()=>H(()=>Promise.resolve().then(()=>ae),void 0).then(t=>t.apiClient.get("/api/v1/admin/users/",{params:e}))),q.prefetchQuery(O.activityLogs.list(e),()=>H(()=>Promise.resolve().then(()=>ae),void 0).then(t=>t.apiClient.get("/api/v1/admin/activity-logs/",{params:e})))])}},Lt={syncCriticalData:()=>{q.invalidateQueries(O.auth.profile),q.invalidateQueries(O.activityLogs.all)},setupPeriodicSync:()=>{const e=setInterval(()=>{document.visibilityState==="visible"&&Lt.syncCriticalData()},3e5);return()=>clearInterval(e)}},_e=[{code:"en",name:"English",flag:"🇺🇸"},{code:"fr",name:"Français",flag:"🇫🇷"},{code:"ar",name:"العربية",flag:"🇸🇦"}],Bs=()=>{const{i18n:e}=Pt(),[t,n]=Ot.useState(!1),s=o=>{e.changeLanguage(o),n(!1),document.documentElement.dir=o==="ar"?"rtl":"ltr",document.documentElement.lang=o},a=_e.find(o=>o.code===e.language)||_e[0];return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>n(!t),className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Change language",children:[r.jsx("span",{className:"text-lg",children:a.flag}),r.jsx("span",{children:a.name}),r.jsx("svg",{className:`w-4 h-4 transition-transform ${t?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&r.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:r.jsx("div",{className:"py-1",children:_e.map(o=>r.jsxs("button",{onClick:()=>s(o.code),className:`flex items-center w-full px-4 py-2 text-sm hover:bg-gray-100 ${e.language===o.code?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:[r.jsx("span",{className:"text-lg mr-3",children:o.flag}),r.jsx("span",{children:o.name}),e.language===o.code&&r.jsx("svg",{className:"w-4 h-4 ml-auto text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},o.code))})})]})},zs=e=>{const{t,i18n:n,ready:s}=Pt(e),a=p.useMemo(()=>(c,d)=>{if(!c)return d?t(d):"";if(typeof c=="string")return c;if(typeof c=="object"){const u=n.language;if(c[u])return c[u];if(c.en)return c.en;const g=Object.keys(c);if(g.length>0)return c[g[0]]}return d?t(d):""},[t,n.language]),o=p.useMemo(()=>(c,d)=>{const u=typeof c=="string"?new Date(c):c,g=n.language==="ar"?"ar-SA":n.language,j={year:"numeric",month:"long",day:"numeric",...d};return new Intl.DateTimeFormat(g,j).format(u)},[n.language]),i=p.useMemo(()=>(c,d)=>{const u=n.language==="ar"?"ar-SA":n.language;return new Intl.NumberFormat(u,d).format(c)},[n.language]),l=p.useMemo(()=>()=>n.language==="ar"?"rtl":"ltr",[n.language]),m=p.useMemo(()=>n.language==="ar",[n.language]);return{t,i18n:n,ready:s,translateContent:a,formatDate:o,formatNumber:i,getTextDirection:l,isRTL:m,currentLanguage:n.language}},Is=({title:e="AU-VLP Admin",user:t,onLogout:n})=>{const{t:s}=zs();return r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:"flex-shrink-0",children:r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e})})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Bs,{}),t&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-gray-900 font-medium",children:t.name}),r.jsx("p",{className:"text-gray-500 capitalize",children:t.role})]}),r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:t.name.charAt(0).toUpperCase()})}),n&&r.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium",children:s("auth.logout")})]})]})]})})})},qs=()=>{const e=new Date().getFullYear();return r.jsx("footer",{className:"bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"py-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["© ",e," African Union Youth Leadership Program. All rights reserved."]}),r.jsxs("div",{className:"flex space-x-6",children:[r.jsx("a",{href:"#",className:"text-sm text-gray-500 hover:text-gray-700",children:"Privacy Policy"}),r.jsx("a",{href:"#",className:"text-sm text-gray-500 hover:text-gray-700",children:"Terms of Service"}),r.jsx("a",{href:"#",className:"text-sm text-gray-500 hover:text-gray-700",children:"Support"})]})]})})})})},$s=[{name:"Dashboard",href:"/",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})})},{name:"Blog Posts",href:"/blog",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})},{name:"Users",href:"/users",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{name:"Organizations",href:"/organizations",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{name:"Activity Logs",href:"/activity-logs",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}],Hs=({items:e=$s})=>r.jsxs("nav",{className:"bg-gray-800",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"AU-VLP"})}),r.jsx("div",{className:"hidden md:block",children:r.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:e.map(t=>r.jsxs(ye,{to:t.href,className:({isActive:n})=>`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${n?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[t.icon&&r.jsx("span",{className:"mr-2",children:t.icon}),t.name]},t.name))})})]})})}),r.jsx("div",{className:"md:hidden",children:r.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:e.map(t=>r.jsxs(ye,{to:t.href,className:({isActive:n})=>`flex items-center px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${n?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[t.icon&&r.jsx("span",{className:"mr-2",children:t.icon}),t.name]},t.name))})})]}),Vs=[{name:"Dashboard",href:"/",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})})},{name:"Content Management",href:"#",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),children:[{name:"Blog Posts",href:"/blog"},{name:"News Articles",href:"/news"},{name:"Events",href:"/events"},{name:"Resources",href:"/resources"}]},{name:"User Management",href:"/users",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{name:"Organizations",href:"/organizations",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{name:"Activity Logs",href:"/activity-logs",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}],Ws=({items:e=Vs,isOpen:t=!0,onToggle:n})=>r.jsxs("div",{className:`bg-gray-900 text-white transition-all duration-300 ${t?"w-64":"w-16"}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsx("h2",{className:`font-bold text-lg ${t?"block":"hidden"}`,children:"AU-VLP Admin"}),n&&r.jsx("button",{onClick:n,className:"p-1 rounded-md hover:bg-gray-800",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),r.jsx("nav",{className:"mt-8",children:r.jsx("div",{className:"px-2 space-y-1",children:e.map(s=>r.jsxs("div",{children:[r.jsxs(ye,{to:s.href,className:({isActive:a})=>`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${a?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[s.icon&&r.jsx("span",{className:"mr-3 flex-shrink-0",children:s.icon}),r.jsx("span",{className:t?"block":"hidden",children:s.name})]}),s.children&&t&&r.jsx("div",{className:"ml-8 mt-1 space-y-1",children:s.children.map(a=>r.jsx(ye,{to:a.href,className:({isActive:o})=>`group flex items-center px-2 py-1 text-sm font-medium rounded-md transition-colors duration-200 ${o?"bg-gray-800 text-white":"text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:a.name},a.name))})]},s.name))})})]});class Dt extends p.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Error caught by boundary:",t,n),H(()=>Promise.resolve().then(()=>Rr),void 0).then(({errorReportingService:s})=>{const a={code:"REACT_ERROR",message:t.message,status:void 0};s.logError(a,"React Error Boundary")})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsxs("div",{className:"mt-4 text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"An unexpected error occurred. Please try refreshing the page."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Refresh Page"})]})]})}):this.props.children}}const ee=({children:e,showSidebar:t=!0,showNavigation:n=!1,user:s,onLogout:a})=>{const[o,i]=p.useState(!0),l=()=>{i(!o)};return r.jsx(Dt,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Is,{user:s,onLogout:a}),n&&!t&&r.jsx(Hs,{}),r.jsxs("div",{className:"flex",children:[t&&r.jsx(Ws,{isOpen:o,onToggle:l}),r.jsx("main",{className:"flex-1 overflow-x-hidden",children:r.jsx("div",{className:"py-6",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e})})})]}),r.jsx(qs,{})]})})},$=({size:e="md",color:t="text-blue-600",text:n="Loading..."})=>{const s={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return r.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[r.jsxs("svg",{className:`animate-spin ${s[e]} ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n})]})},W=({message:e,title:t="Error",onRetry:n,className:s=""})=>r.jsx("div",{className:`bg-red-50 border border-red-200 rounded-md p-4 ${s}`,children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:t}),r.jsx("div",{className:"mt-2 text-sm text-red-700",children:r.jsx("p",{children:e})}),n&&r.jsx("div",{className:"mt-4",children:r.jsx("button",{type:"button",onClick:n,className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Try Again"})})]})]})});function Ut(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ks}=Object.prototype,{getPrototypeOf:Je}=Object,{iterator:Ne,toStringTag:Ft}=Symbol,Ce=(e=>t=>{const n=Ks.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),z=e=>(e=e.toLowerCase(),t=>Ce(t)===e),Oe=e=>t=>typeof t===e,{isArray:se}=Array,ie=Oe("undefined");function ce(e){return e!==null&&!ie(e)&&e.constructor!==null&&!ie(e.constructor)&&F(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Mt=z("ArrayBuffer");function Js(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Mt(e.buffer),t}const Xs=Oe("string"),F=Oe("function"),Bt=Oe("number"),de=e=>e!==null&&typeof e=="object",Qs=e=>e===!0||e===!1,fe=e=>{if(Ce(e)!=="object")return!1;const t=Je(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ft in e)&&!(Ne in e)},Gs=e=>{if(!de(e)||ce(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ys=z("Date"),Zs=z("File"),en=z("Blob"),tn=z("FileList"),sn=e=>de(e)&&F(e.pipe),nn=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||F(e.append)&&((t=Ce(e))==="formdata"||t==="object"&&F(e.toString)&&e.toString()==="[object FormData]"))},rn=z("URLSearchParams"),[an,on,ln,cn]=["ReadableStream","Request","Response","Headers"].map(z),dn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ue(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),se(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(ce(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(s=0;s<i;s++)l=o[s],t.call(null,e[l],l,e)}}function zt(e,t){if(ce(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const K=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),It=e=>!ie(e)&&e!==K;function ze(){const{caseless:e}=It(this)&&this||{},t={},n=(s,a)=>{const o=e&&zt(t,a)||a;fe(t[o])&&fe(s)?t[o]=ze(t[o],s):fe(s)?t[o]=ze({},s):se(s)?t[o]=s.slice():t[o]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&ue(arguments[s],n);return t}const un=(e,t,n,{allOwnKeys:s}={})=>(ue(t,(a,o)=>{n&&F(a)?e[o]=Ut(a,n):e[o]=a},{allOwnKeys:s}),e),mn=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fn=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},hn=(e,t,n,s)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&Je(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},pn=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},gn=e=>{if(!e)return null;if(se(e))return e;let t=e.length;if(!Bt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},xn=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Je(Uint8Array)),yn=(e,t)=>{const s=(e&&e[Ne]).call(e);let a;for(;(a=s.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},vn=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},bn=z("HTMLFormElement"),wn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),rt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),jn=z("RegExp"),qt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};ue(n,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(s[o]=i||a)}),Object.defineProperties(e,s)},Sn=e=>{qt(e,(t,n)=>{if(F(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(F(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},En=(e,t)=>{const n={},s=a=>{a.forEach(o=>{n[o]=!0})};return se(e)?s(e):s(String(e).split(t)),n},Nn=()=>{},Cn=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function On(e){return!!(e&&F(e.append)&&e[Ft]==="FormData"&&e[Ne])}const Rn=e=>{const t=new Array(10),n=(s,a)=>{if(de(s)){if(t.indexOf(s)>=0)return;if(ce(s))return s;if(!("toJSON"in s)){t[a]=s;const o=se(s)?[]:{};return ue(s,(i,l)=>{const m=n(i,a+1);!ie(m)&&(o[l]=m)}),t[a]=void 0,o}}return s};return n(e,0)},kn=z("AsyncFunction"),Pn=e=>e&&(de(e)||F(e))&&F(e.then)&&F(e.catch),$t=((e,t)=>e?setImmediate:t?((n,s)=>(K.addEventListener("message",({source:a,data:o})=>{a===K&&o===n&&s.length&&s.shift()()},!1),a=>{s.push(a),K.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",F(K.postMessage)),Tn=typeof queueMicrotask<"u"?queueMicrotask.bind(K):typeof process<"u"&&process.nextTick||$t,An=e=>e!=null&&F(e[Ne]),f={isArray:se,isArrayBuffer:Mt,isBuffer:ce,isFormData:nn,isArrayBufferView:Js,isString:Xs,isNumber:Bt,isBoolean:Qs,isObject:de,isPlainObject:fe,isEmptyObject:Gs,isReadableStream:an,isRequest:on,isResponse:ln,isHeaders:cn,isUndefined:ie,isDate:Ys,isFile:Zs,isBlob:en,isRegExp:jn,isFunction:F,isStream:sn,isURLSearchParams:rn,isTypedArray:xn,isFileList:tn,forEach:ue,merge:ze,extend:un,trim:dn,stripBOM:mn,inherits:fn,toFlatObject:hn,kindOf:Ce,kindOfTest:z,endsWith:pn,toArray:gn,forEachEntry:yn,matchAll:vn,isHTMLForm:bn,hasOwnProperty:rt,hasOwnProp:rt,reduceDescriptors:qt,freezeMethods:Sn,toObjectSet:En,toCamelCase:wn,noop:Nn,toFiniteNumber:Cn,findKey:zt,global:K,isContextDefined:It,isSpecCompliantForm:On,toJSONObject:Rn,isAsyncFn:kn,isThenable:Pn,setImmediate:$t,asap:Tn,isIterable:An};function N(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}f.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const Ht=N.prototype,Vt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Vt[e]={value:e}});Object.defineProperties(N,Vt);Object.defineProperty(Ht,"isAxiosError",{value:!0});N.from=(e,t,n,s,a,o)=>{const i=Object.create(Ht);return f.toFlatObject(e,i,function(m){return m!==Error.prototype},l=>l!=="isAxiosError"),N.call(i,e.message,t,n,s,a),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const _n=null;function Ie(e){return f.isPlainObject(e)||f.isArray(e)}function Wt(e){return f.endsWith(e,"[]")?e.slice(0,-2):e}function at(e,t,n){return e?e.concat(t).map(function(a,o){return a=Wt(a),!n&&o?"["+a+"]":a}).join(n?".":""):t}function Ln(e){return f.isArray(e)&&!e.some(Ie)}const Dn=f.toFlatObject(f,{},null,function(t){return/^is[A-Z]/.test(t)});function Re(e,t,n){if(!f.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=f.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,y){return!f.isUndefined(y[w])});const s=n.metaTokens,a=n.visitor||d,o=n.dots,i=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(t);if(!f.isFunction(a))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(f.isDate(x))return x.toISOString();if(f.isBoolean(x))return x.toString();if(!m&&f.isBlob(x))throw new N("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(x)||f.isTypedArray(x)?m&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,w,y){let E=x;if(x&&!y&&typeof x=="object"){if(f.endsWith(w,"{}"))w=s?w:w.slice(0,-2),x=JSON.stringify(x);else if(f.isArray(x)&&Ln(x)||(f.isFileList(x)||f.endsWith(w,"[]"))&&(E=f.toArray(x)))return w=Wt(w),E.forEach(function(S,h){!(f.isUndefined(S)||S===null)&&t.append(i===!0?at([w],h,o):i===null?w:w+"[]",c(S))}),!1}return Ie(x)?!0:(t.append(at(y,w,o),c(x)),!1)}const u=[],g=Object.assign(Dn,{defaultVisitor:d,convertValue:c,isVisitable:Ie});function j(x,w){if(!f.isUndefined(x)){if(u.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));u.push(x),f.forEach(x,function(E,C){(!(f.isUndefined(E)||E===null)&&a.call(t,E,f.isString(C)?C.trim():C,w,g))===!0&&j(E,w?w.concat(C):[C])}),u.pop()}}if(!f.isObject(e))throw new TypeError("data must be an object");return j(e),t}function ot(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Xe(e,t){this._pairs=[],e&&Re(e,this,t)}const Kt=Xe.prototype;Kt.append=function(t,n){this._pairs.push([t,n])};Kt.toString=function(t){const n=t?function(s){return t.call(this,s,ot)}:ot;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Un(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jt(e,t,n){if(!t)return e;const s=n&&n.encode||Un;f.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(t,n):o=f.isURLSearchParams(t)?t.toString():new Xe(t,n).toString(s),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Fn{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){f.forEach(this.handlers,function(s){s!==null&&t(s)})}}const it=Fn,Xt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mn=typeof URLSearchParams<"u"?URLSearchParams:Xe,Bn=typeof FormData<"u"?FormData:null,zn=typeof Blob<"u"?Blob:null,In={isBrowser:!0,classes:{URLSearchParams:Mn,FormData:Bn,Blob:zn},protocols:["http","https","file","blob","url","data"]},Qe=typeof window<"u"&&typeof document<"u",qe=typeof navigator=="object"&&navigator||void 0,qn=Qe&&(!qe||["ReactNative","NativeScript","NS"].indexOf(qe.product)<0),$n=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Hn=Qe&&window.location.href||"http://localhost",Vn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qe,hasStandardBrowserEnv:qn,hasStandardBrowserWebWorkerEnv:$n,navigator:qe,origin:Hn},Symbol.toStringTag,{value:"Module"})),D={...Vn,...In};function Wn(e,t){return Re(e,new D.classes.URLSearchParams,{visitor:function(n,s,a,o){return D.isNode&&f.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Kn(e){return f.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Jn(e){const t={},n=Object.keys(e);let s;const a=n.length;let o;for(s=0;s<a;s++)o=n[s],t[o]=e[o];return t}function Qt(e){function t(n,s,a,o){let i=n[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),m=o>=n.length;return i=!i&&f.isArray(a)?a.length:i,m?(f.hasOwnProp(a,i)?a[i]=[a[i],s]:a[i]=s,!l):((!a[i]||!f.isObject(a[i]))&&(a[i]=[]),t(n,s,a[i],o)&&f.isArray(a[i])&&(a[i]=Jn(a[i])),!l)}if(f.isFormData(e)&&f.isFunction(e.entries)){const n={};return f.forEachEntry(e,(s,a)=>{t(Kn(s),a,n,0)}),n}return null}function Xn(e,t,n){if(f.isString(e))try{return(t||JSON.parse)(e),f.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Ge={transitional:Xt,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,o=f.isObject(t);if(o&&f.isHTMLForm(t)&&(t=new FormData(t)),f.isFormData(t))return a?JSON.stringify(Qt(t)):t;if(f.isArrayBuffer(t)||f.isBuffer(t)||f.isStream(t)||f.isFile(t)||f.isBlob(t)||f.isReadableStream(t))return t;if(f.isArrayBufferView(t))return t.buffer;if(f.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Wn(t,this.formSerializer).toString();if((l=f.isFileList(t))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Re(l?{"files[]":t}:t,m&&new m,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),Xn(t)):t}],transformResponse:[function(t){const n=this.transitional||Ge.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(f.isResponse(t)||f.isReadableStream(t))return t;if(t&&f.isString(t)&&(s&&!this.responseType||a)){const i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?N.from(l,N.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:D.classes.FormData,Blob:D.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],e=>{Ge.headers[e]={}});const Ye=Ge,Qn=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gn=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),n=i.substring(0,a).trim().toLowerCase(),s=i.substring(a+1).trim(),!(!n||t[n]&&Qn[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},lt=Symbol("internals");function re(e){return e&&String(e).trim().toLowerCase()}function he(e){return e===!1||e==null?e:f.isArray(e)?e.map(he):String(e)}function Yn(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Zn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Le(e,t,n,s,a){if(f.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!f.isString(t)){if(f.isString(s))return t.indexOf(s)!==-1;if(f.isRegExp(s))return s.test(t)}}function er(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function tr(e,t){const n=f.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,o,i){return this[s].call(this,t,a,o,i)},configurable:!0})})}class ke{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function o(l,m,c){const d=re(m);if(!d)throw new Error("header name must be a non-empty string");const u=f.findKey(a,d);(!u||a[u]===void 0||c===!0||c===void 0&&a[u]!==!1)&&(a[u||m]=he(l))}const i=(l,m)=>f.forEach(l,(c,d)=>o(c,d,m));if(f.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(f.isString(t)&&(t=t.trim())&&!Zn(t))i(Gn(t),n);else if(f.isObject(t)&&f.isIterable(t)){let l={},m,c;for(const d of t){if(!f.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(m=l[c])?f.isArray(m)?[...m,d[1]]:[m,d[1]]:d[1]}i(l,n)}else t!=null&&o(n,t,s);return this}get(t,n){if(t=re(t),t){const s=f.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return Yn(a);if(f.isFunction(n))return n.call(this,a,s);if(f.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=re(t),t){const s=f.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Le(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function o(i){if(i=re(i),i){const l=f.findKey(s,i);l&&(!n||Le(s,s[l],l,n))&&(delete s[l],a=!0)}}return f.isArray(t)?t.forEach(o):o(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const o=n[s];(!t||Le(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const n=this,s={};return f.forEach(this,(a,o)=>{const i=f.findKey(s,o);if(i){n[i]=he(a),delete n[o];return}const l=t?er(o):String(o).trim();l!==o&&delete n[o],n[l]=he(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return f.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&f.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[lt]=this[lt]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=re(i);s[l]||(tr(a,i),s[l]=!0)}return f.isArray(t)?t.forEach(o):o(t),this}}ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(ke.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});f.freezeMethods(ke);const B=ke;function De(e,t){const n=this||Ye,s=t||n,a=B.from(s.headers);let o=s.data;return f.forEach(e,function(l){o=l.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function Gt(e){return!!(e&&e.__CANCEL__)}function ne(e,t,n){N.call(this,e??"canceled",N.ERR_CANCELED,t,n),this.name="CanceledError"}f.inherits(ne,N,{__CANCEL__:!0});function Yt(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new N("Request failed with status code "+n.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function sr(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function nr(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(m){const c=Date.now(),d=s[o];i||(i=c),n[a]=m,s[a]=c;let u=o,g=0;for(;u!==a;)g+=n[u++],u=u%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),c-i<t)return;const j=d&&c-d;return j?Math.round(g*1e3/j):void 0}}function rr(e,t){let n=0,s=1e3/t,a,o;const i=(c,d=Date.now())=>{n=d,a=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const d=Date.now(),u=d-n;u>=s?i(c,d):(a=c,o||(o=setTimeout(()=>{o=null,i(a)},s-u)))},()=>a&&i(a)]}const ve=(e,t,n=3)=>{let s=0;const a=nr(50,250);return rr(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,m=i-s,c=a(m),d=i<=l;s=i;const u={loaded:i,total:l,progress:l?i/l:void 0,bytes:m,rate:c||void 0,estimated:c&&l&&d?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(u)},n)},ct=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},dt=e=>(...t)=>f.asap(()=>e(...t)),ar=D.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,D.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(D.origin),D.navigator&&/(msie|trident)/i.test(D.navigator.userAgent)):()=>!0,or=D.hasStandardBrowserEnv?{write(e,t,n,s,a,o){const i=[e+"="+encodeURIComponent(t)];f.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),f.isString(s)&&i.push("path="+s),f.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ir(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function lr(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Zt(e,t,n){let s=!ir(t);return e&&(s||n==!1)?lr(e,t):t}const ut=e=>e instanceof B?{...e}:e;function J(e,t){t=t||{};const n={};function s(c,d,u,g){return f.isPlainObject(c)&&f.isPlainObject(d)?f.merge.call({caseless:g},c,d):f.isPlainObject(d)?f.merge({},d):f.isArray(d)?d.slice():d}function a(c,d,u,g){if(f.isUndefined(d)){if(!f.isUndefined(c))return s(void 0,c,u,g)}else return s(c,d,u,g)}function o(c,d){if(!f.isUndefined(d))return s(void 0,d)}function i(c,d){if(f.isUndefined(d)){if(!f.isUndefined(c))return s(void 0,c)}else return s(void 0,d)}function l(c,d,u){if(u in t)return s(c,d);if(u in e)return s(void 0,c)}const m={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,d,u)=>a(ut(c),ut(d),u,!0)};return f.forEach(Object.keys({...e,...t}),function(d){const u=m[d]||a,g=u(e[d],t[d],d);f.isUndefined(g)&&u!==l||(n[d]=g)}),n}const es=e=>{const t=J({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=B.from(i),t.url=Jt(Zt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let m;if(f.isFormData(n)){if(D.hasStandardBrowserEnv||D.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((m=i.getContentType())!==!1){const[c,...d]=m?m.split(";").map(u=>u.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...d].join("; "))}}if(D.hasStandardBrowserEnv&&(s&&f.isFunction(s)&&(s=s(t)),s||s!==!1&&ar(t.url))){const c=a&&o&&or.read(o);c&&i.set(a,c)}return t},cr=typeof XMLHttpRequest<"u",dr=cr&&function(e){return new Promise(function(n,s){const a=es(e);let o=a.data;const i=B.from(a.headers).normalize();let{responseType:l,onUploadProgress:m,onDownloadProgress:c}=a,d,u,g,j,x;function w(){j&&j(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function E(){if(!y)return;const S=B.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),v={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:e,request:y};Yt(function(R){n(R),w()},function(R){s(R),w()},v),y=null}"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(E)},y.onabort=function(){y&&(s(new N("Request aborted",N.ECONNABORTED,e,y)),y=null)},y.onerror=function(){s(new N("Network Error",N.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let h=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const v=a.transitional||Xt;a.timeoutErrorMessage&&(h=a.timeoutErrorMessage),s(new N(h,v.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,e,y)),y=null},o===void 0&&i.setContentType(null),"setRequestHeader"in y&&f.forEach(i.toJSON(),function(h,v){y.setRequestHeader(v,h)}),f.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),l&&l!=="json"&&(y.responseType=a.responseType),c&&([g,x]=ve(c,!0),y.addEventListener("progress",g)),m&&y.upload&&([u,j]=ve(m),y.upload.addEventListener("progress",u),y.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(d=S=>{y&&(s(!S||S.type?new ne(null,e,y):S),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const C=sr(a.url);if(C&&D.protocols.indexOf(C)===-1){s(new N("Unsupported protocol "+C+":",N.ERR_BAD_REQUEST,e));return}y.send(o||null)})},ur=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const o=function(c){if(!a){a=!0,l();const d=c instanceof Error?c:this.reason;s.abort(d instanceof N?d:new ne(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:m}=s;return m.unsubscribe=()=>f.asap(l),m}},mr=ur,fr=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},hr=async function*(e,t){for await(const n of pr(e))yield*fr(n,t)},pr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},mt=(e,t,n,s)=>{const a=hr(e,t);let o=0,i,l=m=>{i||(i=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:c,value:d}=await a.next();if(c){l(),m.close();return}let u=d.byteLength;if(n){let g=o+=u;n(g)}m.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(m){return l(m),a.return()}},{highWaterMark:2})},Pe=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ts=Pe&&typeof ReadableStream=="function",gr=Pe&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ss=(e,...t)=>{try{return!!e(...t)}catch{return!1}},xr=ts&&ss(()=>{let e=!1;const t=new Request(D.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ft=64*1024,$e=ts&&ss(()=>f.isReadableStream(new Response("").body)),be={stream:$e&&(e=>e.body)};Pe&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!be[t]&&(be[t]=f.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new N(`Response type '${t}' is not supported`,N.ERR_NOT_SUPPORT,s)})})})(new Response);const yr=async e=>{if(e==null)return 0;if(f.isBlob(e))return e.size;if(f.isSpecCompliantForm(e))return(await new Request(D.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(f.isArrayBufferView(e)||f.isArrayBuffer(e))return e.byteLength;if(f.isURLSearchParams(e)&&(e=e+""),f.isString(e))return(await gr(e)).byteLength},vr=async(e,t)=>{const n=f.toFiniteNumber(e.getContentLength());return n??yr(t)},br=Pe&&(async e=>{let{url:t,method:n,data:s,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:m,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:g}=es(e);c=c?(c+"").toLowerCase():"text";let j=mr([a,o&&o.toAbortSignal()],i),x;const w=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let y;try{if(m&&xr&&n!=="get"&&n!=="head"&&(y=await vr(d,s))!==0){let v=new Request(t,{method:"POST",body:s,duplex:"half"}),b;if(f.isFormData(s)&&(b=v.headers.get("content-type"))&&d.setContentType(b),v.body){const[R,P]=ct(y,ve(dt(m)));s=mt(v.body,ft,R,P)}}f.isString(u)||(u=u?"include":"omit");const E="credentials"in Request.prototype;x=new Request(t,{...g,signal:j,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:E?u:void 0});let C=await fetch(x,g);const S=$e&&(c==="stream"||c==="response");if($e&&(l||S&&w)){const v={};["status","statusText","headers"].forEach(T=>{v[T]=C[T]});const b=f.toFiniteNumber(C.headers.get("content-length")),[R,P]=l&&ct(b,ve(dt(l),!0))||[];C=new Response(mt(C.body,ft,R,()=>{P&&P(),w&&w()}),v)}c=c||"text";let h=await be[f.findKey(be,c)||"text"](C,e);return!S&&w&&w(),await new Promise((v,b)=>{Yt(v,b,{data:h,headers:B.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(E){throw w&&w(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,e,x),{cause:E.cause||E}):N.from(E,E&&E.code,e,x)}}),He={http:_n,xhr:dr,fetch:br};f.forEach(He,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ht=e=>`- ${e}`,wr=e=>f.isFunction(e)||e===null||e===!1,ns={getAdapter:e=>{e=f.isArray(e)?e:[e];const{length:t}=e;let n,s;const a={};for(let o=0;o<t;o++){n=e[o];let i;if(s=n,!wr(n)&&(s=He[(i=String(n)).toLowerCase()],s===void 0))throw new N(`Unknown adapter '${i}'`);if(s)break;a[i||"#"+o]=s}if(!s){const o=Object.entries(a).map(([l,m])=>`adapter ${l} `+(m===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(ht).join(`
`):" "+ht(o[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:He};function Ue(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ne(null,e)}function pt(e){return Ue(e),e.headers=B.from(e.headers),e.data=De.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ns.getAdapter(e.adapter||Ye.adapter)(e).then(function(s){return Ue(e),s.data=De.call(e,e.transformResponse,s),s.headers=B.from(s.headers),s},function(s){return Gt(s)||(Ue(e),s&&s.response&&(s.response.data=De.call(e,e.transformResponse,s.response),s.response.headers=B.from(s.response.headers))),Promise.reject(s)})}const rs="1.11.0",Te={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Te[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const gt={};Te.transitional=function(t,n,s){function a(o,i){return"[Axios v"+rs+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,l)=>{if(t===!1)throw new N(a(i," has been removed"+(n?" in "+n:"")),N.ERR_DEPRECATED);return n&&!gt[i]&&(gt[i]=!0,console.warn(a(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,l):!0}};Te.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function jr(e,t,n){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const o=s[a],i=t[o];if(i){const l=e[o],m=l===void 0||i(l,o,e);if(m!==!0)throw new N("option "+o+" must be "+m,N.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new N("Unknown option "+o,N.ERR_BAD_OPTION)}}const pe={assertOptions:jr,validators:Te},I=pe.validators;class we{constructor(t){this.defaults=t||{},this.interceptors={request:new it,response:new it}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=J(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:o}=n;s!==void 0&&pe.assertOptions(s,{silentJSONParsing:I.transitional(I.boolean),forcedJSONParsing:I.transitional(I.boolean),clarifyTimeoutError:I.transitional(I.boolean)},!1),a!=null&&(f.isFunction(a)?n.paramsSerializer={serialize:a}:pe.assertOptions(a,{encode:I.function,serialize:I.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),pe.assertOptions(n,{baseUrl:I.spelling("baseURL"),withXsrfToken:I.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&f.merge(o.common,o[n.method]);o&&f.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),n.headers=B.concat(i,o);const l=[];let m=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(m=m&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let d,u=0,g;if(!m){const x=[pt.bind(this),void 0];for(x.unshift(...l),x.push(...c),g=x.length,d=Promise.resolve(n);u<g;)d=d.then(x[u++],x[u++]);return d}g=l.length;let j=n;for(u=0;u<g;){const x=l[u++],w=l[u++];try{j=x(j)}catch(y){w.call(this,y);break}}try{d=pt.call(this,j)}catch(x){return Promise.reject(x)}for(u=0,g=c.length;u<g;)d=d.then(c[u++],c[u++]);return d}getUri(t){t=J(this.defaults,t);const n=Zt(t.baseURL,t.url,t.allowAbsoluteUrls);return Jt(n,t.params,t.paramsSerializer)}}f.forEach(["delete","get","head","options"],function(t){we.prototype[t]=function(n,s){return this.request(J(s||{},{method:t,url:n,data:(s||{}).data}))}});f.forEach(["post","put","patch"],function(t){function n(s){return function(o,i,l){return this.request(J(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}we.prototype[t]=n(),we.prototype[t+"Form"]=n(!0)});const ge=we;class Ze{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(a=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](a);s._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{s.subscribe(l),o=l}).then(a);return i.cancel=function(){s.unsubscribe(o)},i},t(function(o,i,l){s.reason||(s.reason=new ne(o,i,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ze(function(a){t=a}),cancel:t}}}const Sr=Ze;function Er(e){return function(n){return e.apply(null,n)}}function Nr(e){return f.isObject(e)&&e.isAxiosError===!0}const Ve={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ve).forEach(([e,t])=>{Ve[t]=e});const Cr=Ve;function as(e){const t=new ge(e),n=Ut(ge.prototype.request,t);return f.extend(n,ge.prototype,t,{allOwnKeys:!0}),f.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return as(J(e,a))},n}const A=as(Ye);A.Axios=ge;A.CanceledError=ne;A.CancelToken=Sr;A.isCancel=Gt;A.VERSION=rs;A.toFormData=Re;A.AxiosError=N;A.Cancel=A.CanceledError;A.all=function(t){return Promise.all(t)};A.spread=Er;A.isAxiosError=Nr;A.mergeConfig=J;A.AxiosHeaders=B;A.formToJSON=e=>Qt(f.isHTMLForm(e)?new FormData(e):e);A.getAdapter=ns.getAdapter;A.HttpStatusCode=Cr;A.default=A;const os=A,_={ACCESS_TOKEN:"access_token",REFRESH_TOKEN:"refresh_token",USER_DATA:"user_data",LANGUAGE:"language"};class xe{static handleError(t){var n,s,a;if(t.response){const o=t.response.data;return{code:((n=o.error)==null?void 0:n.code)||"SERVER_ERROR",message:((s=o.error)==null?void 0:s.message)||"An error occurred on the server",details:(a=o.error)==null?void 0:a.details,status:t.response.status}}else return t.request?{code:"NETWORK_ERROR",message:"Unable to connect to the server. Please check your internet connection.",status:0}:{code:"REQUEST_ERROR",message:t.message||"An unexpected error occurred"}}static getErrorMessage(t){switch(t.code){case"VALIDATION_ERROR":return"Please check your input and try again";case"AUTHENTICATION_ERROR":return"Please log in to continue";case"AUTHORIZATION_ERROR":return"You do not have permission to perform this action";case"NOT_FOUND":return"The requested resource was not found";case"NETWORK_ERROR":return"Connection failed. Please check your internet connection";case"SERVER_ERROR":return"Server error. Please try again later";default:return t.message||"An unexpected error occurred"}}static isRetryableError(t){return["NETWORK_ERROR","SERVER_ERROR"].includes(t.code)||t.status!==void 0&&t.status>=500}}class Or{constructor(){me(this,"reports",[]);me(this,"maxReports",100)}logError(t,n,s){const a={error:t,context:n,userId:s,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,stackTrace:t instanceof Error?t.stack:void 0};this.reports.unshift(a),this.reports.length>this.maxReports&&(this.reports=this.reports.slice(0,this.maxReports));try{localStorage.setItem("errorReports",JSON.stringify(this.reports))}catch(o){console.warn("Failed to store error reports in localStorage:",o)}}getReports(){return[...this.reports]}clearReports(){this.reports=[];try{localStorage.removeItem("errorReports")}catch(t){console.warn("Failed to clear error reports from localStorage:",t)}}async sendToErrorService(t){}init(){try{const t=localStorage.getItem("errorReports");t&&(this.reports=JSON.parse(t))}catch(t){console.warn("Failed to load error reports from localStorage:",t)}}}const et=new Or;et.init();const Rr=Object.freeze(Object.defineProperty({__proto__:null,errorReportingService:et},Symbol.toStringTag,{value:"Module"})),is="/api/v1",U=os.create({baseURL:is,timeout:1e4,headers:{"Content-Type":"application/json"}});U.interceptors.request.use(e=>{const t=localStorage.getItem(_.ACCESS_TOKEN);return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));U.interceptors.response.use(e=>e,async e=>{var s;const t=e.config;if(((s=e.response)==null?void 0:s.status)===401&&!t._retry){t._retry=!0;try{const a=localStorage.getItem(_.REFRESH_TOKEN);if(a){const o=await os.post(`${is}/auth/refresh/`,{refresh:a}),{access:i}=o.data;return localStorage.setItem(_.ACCESS_TOKEN,i),t.headers&&(t.headers.Authorization=`Bearer ${i}`),U(t)}}catch{localStorage.removeItem(_.ACCESS_TOKEN),localStorage.removeItem(_.REFRESH_TOKEN),localStorage.removeItem(_.USER_DATA),window.location.pathname!=="/login"&&(window.location.href="/login")}}const n=xe.handleError(e);return et.logError(n,"API Request"),Promise.reject(n)});const ae=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),Fe={login:e=>U.post("/auth/login/",e),logout:()=>U.post("/auth/logout/"),refresh:e=>U.post("/auth/refresh/",{refresh:e}),profile:()=>U.get("/auth/profile/")},Z={getUsers:e=>U.get("/admin/users/",{params:e}),getOrganizations:e=>U.get("/admin/organizations/",{params:e}),getActivityLogs:e=>U.get("/admin/activity-logs/",{params:e})},je={getPosts:e=>U.get("/blog/posts/",{params:e}),getPost:e=>U.get(`/blog/posts/${e}/`),createPost:e=>U.post("/blog/posts/",e),updatePost:(e,t)=>U.put(`/blog/posts/${e}/`,t),deletePost:e=>U.delete(`/blog/posts/${e}/`)},kr=()=>{const[e,t]=p.useState({totalUsers:0,totalBlogPosts:0,totalOrganizations:0,totalEvents:0}),[n,s]=p.useState([]),[a,o]=p.useState(!0),[i,l]=p.useState(null);p.useEffect(()=>{(async()=>{try{o(!0),l(null);const[d,u,g,j]=await Promise.all([Z.getUsers({page_size:1}),je.getPosts({page_size:1}),Z.getOrganizations({page_size:1}),Z.getActivityLogs({page_size:10,ordering:"-created_at"})]);t({totalUsers:d.data.count||0,totalBlogPosts:u.data.count||0,totalOrganizations:g.data.count||0,totalEvents:0}),s(j.data.results||[])}catch(d){console.error("Error fetching dashboard data:",d),l("Failed to load dashboard data. Please try again.")}finally{o(!1)}})()},[]);const m=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?r.jsx(ee,{children:r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx($,{})})}):r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Welcome to the AU-VLP Admin Dashboard"})]}),i&&r.jsx(W,{message:i}),r.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-6 w-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),r.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalUsers.toLocaleString()})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-6 w-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Blog Posts"}),r.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalBlogPosts.toLocaleString()})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-6 w-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Organizations"}),r.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalOrganizations.toLocaleString()})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-6 w-6 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 0h6m-6 0l-2 9a2 2 0 002 2h8a2 2 0 002-2l-2-9m-6 0V7"})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Events"}),r.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalEvents.toLocaleString()})]})})]})})})]}),r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Recent Activity"}),n.length>0?r.jsx("div",{className:"flow-root",children:r.jsx("ul",{className:"-mb-8",children:n.map((c,d)=>r.jsx("li",{children:r.jsxs("div",{className:"relative pb-8",children:[d!==n.length-1&&r.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}),r.jsxs("div",{className:"relative flex space-x-3",children:[r.jsx("div",{children:r.jsx("span",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center ring-8 ring-white",children:r.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),r.jsxs("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:c.description}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Action: ",c.action]})]}),r.jsx("div",{className:"text-right text-sm whitespace-nowrap text-gray-500",children:m(c.created_at)})]})]})]})},c.id))})}):r.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity to display."})]})})]})})};class Pr{constructor(){me(this,"refreshPromise",null)}async login(t){const n=await Fe.login(t),{user:s,access:a,refresh:o}=n.data;return localStorage.setItem(_.ACCESS_TOKEN,a),localStorage.setItem(_.REFRESH_TOKEN,o),localStorage.setItem(_.USER_DATA,JSON.stringify(s)),{user:s,tokens:{access:a,refresh:o}}}async logout(){try{await Fe.logout()}catch(t){console.warn("Logout API call failed:",t)}finally{localStorage.removeItem(_.ACCESS_TOKEN),localStorage.removeItem(_.REFRESH_TOKEN),localStorage.removeItem(_.USER_DATA),this.refreshPromise=null}}async refreshToken(){if(this.refreshPromise)return this.refreshPromise;const t=localStorage.getItem(_.REFRESH_TOKEN);if(!t)return null;this.refreshPromise=this.performTokenRefresh(t);const n=await this.refreshPromise;return this.refreshPromise=null,n}async performTokenRefresh(t){try{const n=await Fe.refresh(t),{access:s}=n.data;return localStorage.setItem(_.ACCESS_TOKEN,s),{access:s,refresh:t}}catch{return await this.logout(),null}}getCurrentUser(){const t=localStorage.getItem(_.USER_DATA);return t?JSON.parse(t):null}getTokens(){const t=localStorage.getItem(_.ACCESS_TOKEN),n=localStorage.getItem(_.REFRESH_TOKEN);return t&&n?{access:t,refresh:n}:null}isAuthenticated(){return!!localStorage.getItem(_.ACCESS_TOKEN)}isTokenExpired(t){try{const n=JSON.parse(atob(t.split(".")[1])),s=Date.now()/1e3;return n.exp<s}catch{return!0}}async getValidAccessToken(){const t=this.getTokens();if(!t)return null;if(this.isTokenExpired(t.access)){const n=await this.refreshToken();return(n==null?void 0:n.access)||null}return t.access}}const M=new Pr,Tr=Object.freeze(Object.defineProperty({__proto__:null,authService:M},Symbol.toStringTag,{value:"Module"})),Ar=()=>{const[e,t]=p.useState(null),[n,s]=p.useState(!0),[a,o]=p.useState(null),i=p.useCallback(async()=>{const u=M.getCurrentUser();if(M.isAuthenticated()&&u){const j=M.getTokens();if(j&&M.isTokenExpired(j.access))try{await M.refreshToken(),t(u)}catch{t(null),o("Session expired. Please log in again.")}else t(u)}s(!1)},[]);return p.useEffect(()=>{i()},[i]),p.useEffect(()=>{if(!e)return;const u=setInterval(async()=>{const g=M.getTokens();if(g&&M.isTokenExpired(g.access))try{await M.refreshToken()}catch(j){console.error("Background token refresh failed:",j),t(null),o("Session expired. Please log in again.")}},5*60*1e3);return()=>clearInterval(u)},[e]),{user:e,isAuthenticated:!!e,loading:n,login:async u=>{s(!0),o(null);try{const{user:g}=await M.login(u);t(g)}catch(g){throw o(g instanceof Error?g.message:"Login failed"),g}finally{s(!1)}},logout:async()=>{s(!0);try{await M.logout()}catch(u){console.error("Logout error:",u)}finally{t(null),o(null),s(!1)}},refreshToken:async()=>{try{return!!await M.refreshToken()}catch(u){return console.error("Token refresh error:",u),t(null),o("Session expired. Please log in again."),!1}},clearError:()=>{o(null)},error:a}},ls=p.createContext(void 0),_r=({children:e})=>{const t=Ar();return r.jsx(ls.Provider,{value:t,children:e})},cs=()=>{const e=p.useContext(ls);if(e===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return e},k=({variant:e="primary",size:t="md",loading:n=!1,children:s,className:a="",disabled:o,...i})=>{const l="inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200",m={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},c={sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},d=`${l} ${m[e]} ${c[t]} ${a}`;return r.jsxs("button",{className:d,disabled:o||n,...i,children:[n&&r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s]})},L=({label:e,error:t,helperText:n,className:s="",id:a,...o})=>{const i=p.useId(),l=a||i,m=`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 sm:text-sm ${t?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} ${s}`;return r.jsxs("div",{children:[e&&r.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),r.jsx("input",{id:l,className:m,...o}),t&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),n&&!t&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})},Lr=({error:e,onRetry:t,onClear:n})=>{if(!e)return null;const s=o=>o.includes("401")||o.includes("Unauthorized")?"Invalid username or password. Please try again.":o.includes("403")||o.includes("Forbidden")?"You do not have permission to access this resource.":o.includes("Network Error")||o.includes("timeout")?"Network error. Please check your connection and try again.":o.includes("token")&&o.includes("expired")?"Your session has expired. Please log in again.":o,a=o=>o.includes("401")||o.includes("Unauthorized")?"Authentication Failed":o.includes("403")||o.includes("Forbidden")?"Access Denied":o.includes("Network Error")||o.includes("timeout")?"Connection Error":o.includes("token")&&o.includes("expired")?"Session Expired":"Authentication Error";return r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:a(e)}),r.jsx("div",{className:"mt-2 text-sm text-red-700",children:s(e)}),(t||n)&&r.jsxs("div",{className:"mt-3 flex space-x-2",children:[t&&r.jsx("button",{onClick:t,className:"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200",children:"Try Again"}),n&&r.jsx("button",{onClick:n,className:"text-sm text-red-600 hover:text-red-800",children:"Dismiss"})]})]})]})})},Dr=({onSubmit:e,loading:t=!1,error:n,onClearError:s})=>{const[a,o]=p.useState({username:"",password:""}),i=async m=>{m.preventDefault(),await e(a)},l=m=>{o({...a,[m.target.name]:m.target.value})};return r.jsxs("form",{onSubmit:i,className:"space-y-6",children:[r.jsx(L,{label:"Username",name:"username",type:"text",value:a.username,onChange:l,disabled:t,required:!0}),r.jsx(L,{label:"Password",name:"password",type:"password",value:a.password,onChange:l,disabled:t,required:!0}),r.jsx(Lr,{error:n,onRetry:()=>e(a),onClear:s}),r.jsx(k,{type:"submit",loading:t,className:"w-full",children:"Sign In"})]})},Ur=()=>{var i,l;const{isAuthenticated:e,login:t,loading:n,error:s,clearError:a}=cs(),o=Rt();if(e){const m=((l=(i=o.state)==null?void 0:i.from)==null?void 0:l.pathname)||"/";return r.jsx(kt,{to:m,replace:!0})}return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"AU-VLP Admin Login"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your admin account"})]}),r.jsx(Dr,{onSubmit:t,loading:n,error:s||void 0,onClearError:a})]})})},Ae=({columns:e,data:t,loading:n=!1,emptyMessage:s="No data available"})=>n?r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsx("tr",{children:e.map(a=>r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.title},a.key))})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:e.length,className:"px-6 py-4 text-center text-sm text-gray-500",children:s})}):t.map((a,o)=>r.jsx("tr",{className:"hover:bg-gray-50",children:e.map(i=>r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.render?i.render(a[i.key],a):a[i.key]},i.key))},o))})]})}),Fr=({onEdit:e,onDelete:t,onRefresh:n,refreshTrigger:s})=>{const[a,o]=p.useState([]),[i,l]=p.useState(!0),[m,c]=p.useState(null),[d,u]=p.useState(1),[g,j]=p.useState(1),[x,w]=p.useState(0),y=async(v=1)=>{try{l(!0),c(null);const R=(await je.getPosts({page:v,page_size:10,ordering:"-created_at"})).data;o(R.results),w(R.count),j(Math.ceil(R.count/10))}catch(b){console.error("Error fetching blog posts:",b),c("Failed to load blog posts. Please try again.")}finally{l(!1)}};p.useEffect(()=>{y(d)},[d,s]);const E=v=>{u(v)},C=v=>{const b={published:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",archived:"bg-gray-100 text-gray-800"};return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b[v]||"bg-gray-100 text-gray-800"}`,children:v.charAt(0).toUpperCase()+v.slice(1)})},S=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),h=[{key:"title",label:"Title",render:v=>r.jsxs("div",{className:"max-w-xs truncate",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.title}),v.excerpt&&r.jsx("div",{className:"text-sm text-gray-500 truncate",children:v.excerpt})]})},{key:"status",label:"Status",render:v=>C(v.status)},{key:"created_at",label:"Created",render:v=>r.jsx("span",{className:"text-sm text-gray-500",children:S(v.created_at)})},{key:"published_at",label:"Published",render:v=>r.jsx("span",{className:"text-sm text-gray-500",children:v.published_at?S(v.published_at):"-"})},{key:"actions",label:"Actions",render:v=>r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(k,{variant:"secondary",size:"sm",onClick:()=>e(v),children:"Edit"}),r.jsx(k,{variant:"danger",size:"sm",onClick:()=>t(v),children:"Delete"})]})}];return i?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx($,{})}):m?r.jsx(W,{message:m}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Blog Posts (",x,")"]}),n&&r.jsx(k,{variant:"secondary",onClick:n,children:"Refresh"})]}),r.jsx(Ae,{data:a,columns:h,currentPage:d,totalPages:g,onPageChange:E,emptyMessage:"No blog posts found."})]})},Mr=({post:e,onSave:t,onCancel:n})=>{var x,w,y;const[s,a]=p.useState({title:"",content:"",excerpt:"",featured_image:"",status:"draft"}),[o,i]=p.useState(!1),[l,m]=p.useState(null),[c,d]=p.useState({});p.useEffect(()=>{e&&a({title:e.title,content:e.content,excerpt:e.excerpt||"",featured_image:e.featured_image||"",status:e.status})},[e]);const u=E=>{const{name:C,value:S}=E.target;a(h=>({...h,[C]:S})),c[C]&&d(h=>({...h,[C]:[]}))},g=()=>{const E={};return s.title.trim()||(E.title=["Title is required"]),s.content.trim()||(E.content=["Content is required"]),d(E),Object.keys(E).length===0},j=async E=>{var C,S,h,v;if(E.preventDefault(),!!g())try{i(!0),m(null);let b;e?b=await je.updatePost(e.id,s):b=await je.createPost(s),t(b.data)}catch(b){console.error("Error saving blog post:",b),(S=(C=b.response)==null?void 0:C.data)!=null&&S.details?d(b.response.data.details):m(((v=(h=b.response)==null?void 0:h.data)==null?void 0:v.message)||"Failed to save blog post. Please try again.")}finally{i(!1)}};return r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:e?"Edit Blog Post":"Create New Blog Post"}),l&&r.jsx(W,{message:l,className:"mb-4"}),r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsx("div",{children:r.jsx(L,{label:"Title",name:"title",value:s.title,onChange:u,error:(x=c.title)==null?void 0:x[0],required:!0})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Content"}),r.jsx("textarea",{id:"content",name:"content",rows:10,value:s.content,onChange:u,className:`mt-1 block w-full border rounded-md shadow-sm px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${c.content?"border-red-300":"border-gray-300"}`,required:!0}),c.content&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.content[0]})]}),r.jsx("div",{children:r.jsx(L,{label:"Excerpt",name:"excerpt",value:s.excerpt,onChange:u,error:(w=c.excerpt)==null?void 0:w[0],placeholder:"Brief description of the post..."})}),r.jsx("div",{children:r.jsx(L,{label:"Featured Image URL",name:"featured_image",type:"url",value:s.featured_image,onChange:u,error:(y=c.featured_image)==null?void 0:y[0],placeholder:"https://example.com/image.jpg"})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),r.jsxs("select",{id:"status",name:"status",value:s.status,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"published",children:"Published"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(k,{type:"button",variant:"secondary",onClick:n,disabled:o,children:"Cancel"}),r.jsx(k,{type:"submit",variant:"primary",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx($,{size:"sm"}),r.jsx("span",{className:"ml-2",children:"Saving..."})]}):e?"Update Post":"Create Post"})]})]})]})})},Br=()=>{const[e,t]=p.useState(!1),[n,s]=p.useState(null),[a,o]=p.useState(0),i=()=>{s(null),t(!0)},l=u=>{s(u),t(!0)},m=async u=>{if(window.confirm(`Are you sure you want to delete "${u.title}"?`))try{console.log("Deleting post:",u.id),o(g=>g+1)}catch(g){console.error("Error deleting post:",g)}},c=u=>{t(!1),s(null),o(g=>g+1)},d=()=>{t(!1),s(null)};return r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Blog Management"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Create, edit, and manage blog posts"})]}),!e&&r.jsx(k,{onClick:i,children:"Create New Post"})]}),e?r.jsx(Mr,{post:n,onSave:c,onCancel:d}):r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:r.jsx(Fr,{onEdit:l,onDelete:m,refreshTrigger:a})})})]})})},zr=({onEdit:e,onDelete:t,onRefresh:n,refreshTrigger:s})=>{const[a,o]=p.useState([]),[i,l]=p.useState(!0),[m,c]=p.useState(null),[d,u]=p.useState(1),[g,j]=p.useState(1),[x,w]=p.useState(0),y=async(b=1)=>{try{l(!0),c(null);const P=(await Z.getUsers({page:b,page_size:10,ordering:"-created_at"})).data;o(P.results),w(P.count),j(Math.ceil(P.count/10))}catch(R){console.error("Error fetching users:",R),c("Failed to load users. Please try again.")}finally{l(!1)}};p.useEffect(()=>{y(d)},[d,s]);const E=b=>{u(b)},C=b=>{const R={super_admin:"bg-red-100 text-red-800",admin:"bg-blue-100 text-blue-800",user:"bg-green-100 text-green-800"};return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R[b]||"bg-gray-100 text-gray-800"}`,children:b.replace("_"," ").toUpperCase()})},S=b=>r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b?"Active":"Inactive"}),h=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=[{key:"name",label:"Name",render:b=>r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[b.first_name," ",b.last_name]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["@",b.username]})]})},{key:"email",label:"Email",render:b=>r.jsx("span",{className:"text-sm text-gray-900",children:b.email})},{key:"role",label:"Role",render:b=>C(b.role)},{key:"status",label:"Status",render:b=>S(b.is_active)},{key:"created_at",label:"Created",render:b=>r.jsx("span",{className:"text-sm text-gray-500",children:h(b.created_at)})},{key:"actions",label:"Actions",render:b=>r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(k,{variant:"secondary",size:"sm",onClick:()=>e(b),children:"Edit"}),r.jsx(k,{variant:"danger",size:"sm",onClick:()=>t(b),children:"Delete"})]})}];return i?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx($,{})}):m?r.jsx(W,{message:m}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Users (",x,")"]}),n&&r.jsx(k,{variant:"secondary",onClick:n,children:"Refresh"})]}),r.jsx(Ae,{data:a,columns:v,currentPage:d,totalPages:g,onPageChange:E,emptyMessage:"No users found."})]})},Ir=({user:e,onSave:t,onCancel:n})=>{var x,w,y,E,C,S;const[s,a]=p.useState({username:"",email:"",first_name:"",last_name:"",role:"user",is_active:!0,password:"",confirm_password:""}),[o,i]=p.useState(!1),[l,m]=p.useState(null),[c,d]=p.useState({});p.useEffect(()=>{e&&a({username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,role:e.role,is_active:e.is_active,password:"",confirm_password:""})},[e]);const u=h=>{const{name:v,value:b,type:R}=h.target,P=h.target.checked;a(T=>({...T,[v]:R==="checkbox"?P:b})),c[v]&&d(T=>({...T,[v]:[]}))},g=()=>{const h={};return s.username.trim()||(h.username=["Username is required"]),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(h.email=["Email is invalid"]):h.email=["Email is required"],s.first_name.trim()||(h.first_name=["First name is required"]),s.last_name.trim()||(h.last_name=["Last name is required"]),e?s.password&&(s.password.length<8&&(h.password=["Password must be at least 8 characters"]),s.password!==s.confirm_password&&(h.confirm_password=["Passwords do not match"])):(s.password?s.password.length<8&&(h.password=["Password must be at least 8 characters"]):h.password=["Password is required"],s.password!==s.confirm_password&&(h.confirm_password=["Passwords do not match"])),d(h),Object.keys(h).length===0},j=async h=>{var v,b,R,P;if(h.preventDefault(),!!g())try{i(!0),m(null);const T={...s};delete T.confirm_password,e&&!s.password&&delete T.password;const ys={id:(e==null?void 0:e.id)||Date.now().toString(),username:T.username,email:T.email,first_name:T.first_name,last_name:T.last_name,role:T.role,is_active:T.is_active,created_at:(e==null?void 0:e.created_at)||new Date().toISOString(),updated_at:new Date().toISOString()};t(ys)}catch(T){console.error("Error saving user:",T),(b=(v=T.response)==null?void 0:v.data)!=null&&b.details?d(T.response.data.details):m(((P=(R=T.response)==null?void 0:R.data)==null?void 0:P.message)||"Failed to save user. Please try again.")}finally{i(!1)}};return r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:e?"Edit User":"Create New User"}),l&&r.jsx(W,{message:l,className:"mb-4"}),r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsx("div",{children:r.jsx(L,{label:"Username",name:"username",value:s.username,onChange:u,error:(x=c.username)==null?void 0:x[0],required:!0})}),r.jsx("div",{children:r.jsx(L,{label:"Email",name:"email",type:"email",value:s.email,onChange:u,error:(w=c.email)==null?void 0:w[0],required:!0})}),r.jsx("div",{children:r.jsx(L,{label:"First Name",name:"first_name",value:s.first_name,onChange:u,error:(y=c.first_name)==null?void 0:y[0],required:!0})}),r.jsx("div",{children:r.jsx(L,{label:"Last Name",name:"last_name",value:s.last_name,onChange:u,error:(E=c.last_name)==null?void 0:E[0],required:!0})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role"}),r.jsxs("select",{id:"role",name:"role",value:s.role,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"is_active",name:"is_active",type:"checkbox",checked:s.is_active,onChange:u,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active User"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsx("div",{children:r.jsx(L,{label:e?"New Password (leave blank to keep current)":"Password",name:"password",type:"password",value:s.password,onChange:u,error:(C=c.password)==null?void 0:C[0],required:!e})}),r.jsx("div",{children:r.jsx(L,{label:"Confirm Password",name:"confirm_password",type:"password",value:s.confirm_password,onChange:u,error:(S=c.confirm_password)==null?void 0:S[0],required:!e||!!s.password})})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(k,{type:"button",variant:"secondary",onClick:n,disabled:o,children:"Cancel"}),r.jsx(k,{type:"submit",variant:"primary",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx($,{size:"sm"}),r.jsx("span",{className:"ml-2",children:"Saving..."})]}):e?"Update User":"Create User"})]})]})]})})},qr=()=>{const[e,t]=p.useState(!1),[n,s]=p.useState(null),[a,o]=p.useState(0),i=()=>{s(null),t(!0)},l=u=>{s(u),t(!0)},m=async u=>{if(window.confirm(`Are you sure you want to delete user "${u.username}"?`))try{console.log("Deleting user:",u.id),o(g=>g+1)}catch(g){console.error("Error deleting user:",g)}},c=u=>{t(!1),s(null),o(g=>g+1)},d=()=>{t(!1),s(null)};return r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"User Management"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage users and their roles"})]}),!e&&r.jsx(k,{onClick:i,children:"Create New User"})]}),e?r.jsx(Ir,{user:n,onSave:c,onCancel:d}):r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:r.jsx(zr,{onEdit:l,onDelete:m,refreshTrigger:a})})})]})})},$r=({onEdit:e,onDelete:t,onRefresh:n,refreshTrigger:s})=>{const[a,o]=p.useState([]),[i,l]=p.useState(!0),[m,c]=p.useState(null),[d,u]=p.useState(1),[g,j]=p.useState(1),[x,w]=p.useState(0),y=async(h=1)=>{try{l(!0),c(null);const b=(await Z.getOrganizations({page:h,page_size:10,ordering:"-created_at"})).data;o(b.results),w(b.count),j(Math.ceil(b.count/10))}catch(v){console.error("Error fetching organizations:",v),c("Failed to load organizations. Please try again.")}finally{l(!1)}};p.useEffect(()=>{y(d)},[d,s]);const E=h=>{u(h)},C=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),S=[{key:"name",label:"Organization",render:h=>r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name}),h.description&&r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:h.description})]})},{key:"contact",label:"Contact",render:h=>r.jsxs("div",{className:"text-sm text-gray-900",children:[h.email&&r.jsx("div",{children:h.email}),h.phone&&r.jsx("div",{children:h.phone})]})},{key:"website",label:"Website",render:h=>h.website?r.jsx("a",{href:h.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800",children:h.website}):r.jsx("span",{className:"text-sm text-gray-500",children:"-"})},{key:"address",label:"Location",render:h=>r.jsx("div",{className:"text-sm text-gray-900",children:h.address&&r.jsx("div",{children:h.address})})},{key:"created_at",label:"Created",render:h=>r.jsx("span",{className:"text-sm text-gray-500",children:C(h.created_at)})},{key:"actions",label:"Actions",render:h=>r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(k,{variant:"secondary",size:"sm",onClick:()=>e(h),children:"Edit"}),r.jsx(k,{variant:"danger",size:"sm",onClick:()=>t(h),children:"Delete"})]})}];return i?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx($,{})}):m?r.jsx(W,{message:m}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Organizations (",x,")"]}),n&&r.jsx(k,{variant:"secondary",onClick:n,children:"Refresh"})]}),r.jsx(Ae,{data:a,columns:S,currentPage:d,totalPages:g,onPageChange:E,emptyMessage:"No organizations found."})]})},Hr=({organization:e,onSave:t,onCancel:n})=>{var x,w,y,E,C;const[s,a]=p.useState({name:"",description:"",website:"",email:"",phone:"",address:""}),[o,i]=p.useState(!1),[l,m]=p.useState(null),[c,d]=p.useState({});p.useEffect(()=>{e&&a({name:e.name,description:e.description||"",website:e.website||"",email:e.email||"",phone:e.phone||"",address:e.address||""})},[e]);const u=S=>{const{name:h,value:v}=S.target;a(b=>({...b,[h]:v})),c[h]&&d(b=>({...b,[h]:[]}))},g=()=>{const S={};return s.name.trim()||(S.name=["Organization name is required"]),s.email&&!/\S+@\S+\.\S+/.test(s.email)&&(S.email=["Email is invalid"]),s.website&&!s.website.match(/^https?:\/\/.+/)&&(S.website=["Website must be a valid URL starting with http:// or https://"]),d(S),Object.keys(S).length===0},j=async S=>{var h,v,b,R;if(S.preventDefault(),!!g())try{i(!0),m(null);const P={id:(e==null?void 0:e.id)||Date.now().toString(),name:s.name,description:s.description||void 0,website:s.website||void 0,email:s.email||void 0,phone:s.phone||void 0,address:s.address||void 0,created_at:(e==null?void 0:e.created_at)||new Date().toISOString(),updated_at:new Date().toISOString()};t(P)}catch(P){console.error("Error saving organization:",P),(v=(h=P.response)==null?void 0:h.data)!=null&&v.details?d(P.response.data.details):m(((R=(b=P.response)==null?void 0:b.data)==null?void 0:R.message)||"Failed to save organization. Please try again.")}finally{i(!1)}};return r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:e?"Edit Organization":"Create New Organization"}),l&&r.jsx(W,{message:l,className:"mb-4"}),r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsx("div",{children:r.jsx(L,{label:"Organization Name",name:"name",value:s.name,onChange:u,error:(x=c.name)==null?void 0:x[0],required:!0})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),r.jsx("textarea",{id:"description",name:"description",rows:4,value:s.description,onChange:u,className:`mt-1 block w-full border rounded-md shadow-sm px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${c.description?"border-red-300":"border-gray-300"}`,placeholder:"Brief description of the organization..."}),c.description&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.description[0]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsx("div",{children:r.jsx(L,{label:"Website",name:"website",type:"url",value:s.website,onChange:u,error:(w=c.website)==null?void 0:w[0],placeholder:"https://example.com"})}),r.jsx("div",{children:r.jsx(L,{label:"Email",name:"email",type:"email",value:s.email,onChange:u,error:(y=c.email)==null?void 0:y[0],placeholder:"contact@organization.com"})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsx("div",{children:r.jsx(L,{label:"Phone",name:"phone",type:"tel",value:s.phone,onChange:u,error:(E=c.phone)==null?void 0:E[0],placeholder:"+1 (555) 123-4567"})}),r.jsx("div",{children:r.jsx(L,{label:"Address",name:"address",value:s.address,onChange:u,error:(C=c.address)==null?void 0:C[0],placeholder:"Street address, City, Country"})})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(k,{type:"button",variant:"secondary",onClick:n,disabled:o,children:"Cancel"}),r.jsx(k,{type:"submit",variant:"primary",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx($,{size:"sm"}),r.jsx("span",{className:"ml-2",children:"Saving..."})]}):e?"Update Organization":"Create Organization"})]})]})]})})},Vr=()=>{const[e,t]=p.useState(!1),[n,s]=p.useState(null),[a,o]=p.useState(0),i=()=>{s(null),t(!0)},l=u=>{s(u),t(!0)},m=async u=>{if(window.confirm(`Are you sure you want to delete "${u.name}"?`))try{console.log("Deleting organization:",u.id),o(g=>g+1)}catch(g){console.error("Error deleting organization:",g)}},c=u=>{t(!1),s(null),o(g=>g+1)},d=()=>{t(!1),s(null)};return r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Organization Management"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage organizations and their information"})]}),!e&&r.jsx(k,{onClick:i,children:"Create New Organization"})]}),e?r.jsx(Hr,{organization:n,onSave:c,onCancel:d}):r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:r.jsx($r,{onEdit:l,onDelete:m,refreshTrigger:a})})})]})})},Wr=({filters:e,onRefresh:t,refreshTrigger:n})=>{const[s,a]=p.useState([]),[o,i]=p.useState(!0),[l,m]=p.useState(null),[c,d]=p.useState(1),[u,g]=p.useState(1),[j,x]=p.useState(0),w=async(h=1)=>{try{i(!0),m(null);const v={page:h,page_size:20,ordering:"-created_at"};e!=null&&e.action&&(v.action=e.action),e!=null&&e.dateFrom&&(v.created_at__gte=e.dateFrom),e!=null&&e.dateTo&&(v.created_at__lte=e.dateTo);const R=(await Z.getActivityLogs(v)).data;a(R.results),x(R.count),g(Math.ceil(R.count/20))}catch(v){console.error("Error fetching activity logs:",v),m("Failed to load activity logs. Please try again.")}finally{i(!1)}};p.useEffect(()=>{w(c)},[c,n,e]);const y=h=>{d(h)},E=h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=h=>{const v={create:"bg-green-100 text-green-800",update:"bg-blue-100 text-blue-800",delete:"bg-red-100 text-red-800",login:"bg-purple-100 text-purple-800",logout:"bg-gray-100 text-gray-800"};return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v[h]||"bg-gray-100 text-gray-800"}`,children:h.toUpperCase()})},S=[{key:"action",label:"Action",render:h=>C(h.action)},{key:"description",label:"Description",render:h=>r.jsx("div",{className:"max-w-md",children:r.jsx("div",{className:"text-sm text-gray-900",children:h.description})})},{key:"user",label:"User",render:h=>r.jsx("div",{className:"text-sm text-gray-900",children:h.user_id?`User ID: ${h.user_id}`:h.admin_id?`Admin ID: ${h.admin_id}`:"System"})},{key:"ip_address",label:"IP Address",render:h=>r.jsx("span",{className:"text-sm text-gray-500 font-mono",children:h.ip_address||"-"})},{key:"created_at",label:"Timestamp",render:h=>r.jsx("span",{className:"text-sm text-gray-500",children:E(h.created_at)})}];return o?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx($,{})}):l?r.jsx(W,{message:l}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Activity Logs (",j,")"]}),t&&r.jsx(k,{variant:"secondary",onClick:t,children:"Refresh"})]}),r.jsx(Ae,{data:s,columns:S,currentPage:c,totalPages:u,onPageChange:y,emptyMessage:"No activity logs found."})]})},Kr=({onFiltersChange:e})=>{const[t,n]=p.useState({action:"",dateFrom:"",dateTo:""}),s=[{value:"",label:"All Actions"},{value:"create",label:"Create"},{value:"update",label:"Update"},{value:"delete",label:"Delete"},{value:"login",label:"Login"},{value:"logout",label:"Logout"}],a=l=>{const{name:m,value:c}=l.target;n(d=>({...d,[m]:c}))},o=()=>{const l={};t.action&&(l.action=t.action),t.dateFrom&&(l.dateFrom=t.dateFrom),t.dateTo&&(l.dateTo=t.dateTo),e(l)},i=()=>{n({action:"",dateFrom:"",dateTo:""}),e({})};return r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Filter Activity Logs"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"action",className:"block text-sm font-medium text-gray-700",children:"Action Type"}),r.jsx("select",{id:"action",name:"action",value:t.action,onChange:a,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:s.map(l=>r.jsx("option",{value:l.value,children:l.label},l.value))})]}),r.jsx("div",{children:r.jsx(L,{label:"From Date",name:"dateFrom",type:"date",value:t.dateFrom,onChange:a})}),r.jsx("div",{children:r.jsx(L,{label:"To Date",name:"dateTo",type:"date",value:t.dateTo,onChange:a})})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx(k,{variant:"secondary",onClick:i,children:"Clear Filters"}),r.jsx(k,{variant:"primary",onClick:o,children:"Apply Filters"})]})]})})},Jr=()=>{const[e,t]=p.useState({}),[n,s]=p.useState(0),a=i=>{t(i),s(l=>l+1)},o=()=>{s(i=>i+1)};return r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Activity Logs"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"View and filter system activity and user actions"})]}),r.jsx(Kr,{onFiltersChange:a}),r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:r.jsx(Wr,{filters:e,onRefresh:o,refreshTrigger:n})})})]})})},oe=({children:e,requiredRole:t})=>{const{isAuthenticated:n,user:s,loading:a}=cs(),o=Rt();return a?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx($,{size:"lg",text:"Loading..."})}):n?t&&(s==null?void 0:s.role)!==t&&(s==null?void 0:s.role)!=="super_admin"?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})}):r.jsx(r.Fragment,{children:e}):r.jsx(kt,{to:"/login",state:{from:o},replace:!0})},ds=p.createContext(void 0),tt=()=>{const e=p.useContext(ds);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Xr=({children:e})=>{const[t,n]=p.useState([]),s=p.useCallback(i=>{const l=Math.random().toString(36).substr(2,9),m={...i,id:l,duration:i.duration||5e3};n(c=>[...c,m]),m.duration>0&&setTimeout(()=>{a(l)},m.duration)},[]),a=p.useCallback(i=>{n(l=>l.filter(m=>m.id!==i))},[]),o=p.useCallback(()=>{n([])},[]);return r.jsx(ds.Provider,{value:{toasts:t,addToast:s,removeToast:a,clearToasts:o},children:e})},Qr=({toast:e})=>{const{removeToast:t}=tt(),n=a=>{const o="p-4 rounded-lg shadow-lg border-l-4 flex items-start justify-between max-w-md";switch(a){case"success":return`${o} bg-green-50 border-green-400 text-green-800`;case"error":return`${o} bg-red-50 border-red-400 text-red-800`;case"warning":return`${o} bg-yellow-50 border-yellow-400 text-yellow-800`;case"info":return`${o} bg-blue-50 border-blue-400 text-blue-800`;default:return`${o} bg-gray-50 border-gray-400 text-gray-800`}},s=a=>{switch(a){case"success":return"✓";case"error":return"✕";case"warning":return"⚠";case"info":return"ℹ";default:return""}};return r.jsxs("div",{className:n(e.type),children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"mr-3 text-lg font-bold",children:s(e.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:e.title}),e.message&&r.jsx("p",{className:"mt-1 text-sm opacity-90",children:e.message}),e.action&&r.jsx("button",{onClick:e.action.onClick,className:"mt-2 text-sm underline hover:no-underline",children:e.action.label})]})]}),r.jsx("button",{onClick:()=>t(e.id),className:"ml-4 text-lg hover:opacity-70","aria-label":"Close notification",children:"×"})]})},Gr=()=>{const{toasts:e}=tt();return e.length===0?null:r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(t=>r.jsx(Qr,{toast:t},t.id))})},Yr=()=>{const{addToast:e}=tt(),t=p.useCallback((o,i)=>{let l;"response"in o||"request"in o?l=xe.handleError(o):l=o,console.error(`Error ${i?`in ${i}`:""}:`,l);const m=xe.getErrorMessage(l);return e({type:"error",title:"Error",message:i?`${i}: ${m}`:m,duration:l.code==="NETWORK_ERROR"?0:5e3,action:xe.isRetryableError(l)?{label:"Retry",onClick:()=>window.location.reload()}:void 0}),l},[e]),n=p.useCallback((o,i="Success")=>{e({type:"success",title:i,message:o,duration:3e3})},[e]),s=p.useCallback((o,i="Warning")=>{e({type:"warning",title:i,message:o,duration:4e3})},[e]),a=p.useCallback((o,i="Info")=>{e({type:"info",title:i,message:o,duration:4e3})},[e]);return{handleError:t,handleSuccess:n,handleWarning:s,handleInfo:a}},Zr=()=>{const[e,t]=p.useState(navigator.onLine),[n,s]=p.useState(!1),{handleWarning:a,handleSuccess:o}=Yr();return p.useEffect(()=>{const i=()=>{t(!0),n&&(o("Connection restored","Back Online"),s(!1))},l=()=>{t(!1),s(!0),a("You are currently offline. Some features may not be available.","No Internet Connection")};return window.addEventListener("online",i),window.addEventListener("offline",l),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",l)}},[n,a,o]),{isOnline:e,wasOffline:n}},{slice:ea,forEach:ta}=[];function sa(e){return ta.call(ea.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function na(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const xt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ra=function(e,t){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(t);let o=`${e}=${a}`;if(s.maxAge>0){const i=s.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(i)}`}if(s.domain){if(!xt.test(s.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${s.domain}`}if(s.path){if(!xt.test(s.path))throw new TypeError("option path is invalid");o+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(o+="; Partitioned"),o},yt={create(e,t,n,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),s&&(a.domain=s),document.cookie=ra(e,t,a)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let a=n[s];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var aa={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return yt.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:s,cookieDomain:a,cookieOptions:o}=t;n&&typeof document<"u"&&yt.create(n,e,s,a,o)}},oa={name:"querystring",lookup(e){var s;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const i=a.substring(1).split("&");for(let l=0;l<i.length;l++){const m=i[l].indexOf("=");m>0&&i[l].substring(0,m)===t&&(n=i[l].substring(m+1))}}return n}},ia={name:"hash",lookup(e){var a;let{lookupHash:t,lookupFromHashIndex:n}=e,s;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const i=o.substring(1);if(t){const l=i.split("&");for(let m=0;m<l.length;m++){const c=l[m].indexOf("=");c>0&&l[m].substring(0,c)===t&&(s=l[m].substring(c+1))}}if(s)return s;if(!s&&n>-1){const l=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(a=l[typeof n=="number"?n:0])==null?void 0:a.replace("/",""):void 0}}}return s}};let G=null;const vt=()=>{if(G!==null)return G;try{if(G=typeof window<"u"&&window.localStorage!==null,!G)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{G=!1}return G};var la={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&vt())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&vt()&&window.localStorage.setItem(n,e)}};let Y=null;const bt=()=>{if(Y!==null)return Y;try{if(Y=typeof window<"u"&&window.sessionStorage!==null,!Y)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Y=!1}return Y};var ca={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&bt())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&bt()&&window.sessionStorage.setItem(n,e)}},da={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:a}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);s&&t.push(s),a&&t.push(a)}return t.length>0?t:void 0}},ua={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const s=t||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},ma={name:"path",lookup(e){var a;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(a=n[typeof t=="number"?t:0])==null?void 0:a.replace("/",""):void 0}},fa={name:"subdomain",lookup(e){var a,o;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,s=typeof window<"u"&&((o=(a=window.location)==null?void 0:a.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[n]}};let us=!1;try{document.cookie,us=!0}catch{}const ms=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];us||ms.splice(1,1);const ha=()=>({order:ms,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class fs{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=sa(n,this.options||{},ha()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(aa),this.addDetector(oa),this.addDetector(la),this.addDetector(ca),this.addDetector(da),this.addDetector(ua),this.addDetector(ma),this.addDetector(fa),this.addDetector(ia)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(s=>{if(this.detectors[s]){let a=this.detectors[s].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(s=>s!=null&&!na(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(t,this.options)}))}}fs.type="languageDetector";function We(e){"@babel/helpers - typeof";return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(e)}function hs(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":We(XMLHttpRequest))==="object"}function pa(e){return!!e&&typeof e.then=="function"}function ga(e){return pa(e)?e:Promise.resolve(e)}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wt(Object(n),!0).forEach(function(s){xa(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xa(e,t,n){return(t=ya(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ya(e){var t=va(e,"string");return X(t)=="symbol"?t:t+""}function va(e,t){if(X(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(X(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X(e){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(e)}var V=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?V=global.fetch:typeof window<"u"&&window.fetch&&(V=window.fetch);var le;hs()&&(typeof global<"u"&&global.XMLHttpRequest?le=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(le=window.XMLHttpRequest));var Se;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Se=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Se=window.ActiveXObject));typeof V!="function"&&(V=void 0);if(!V&&!le&&!Se)try{H(()=>import("./browser-ponyfill-fc8a5cf3.js").then(e=>e.b),["assets/browser-ponyfill-fc8a5cf3.js","assets/vendor-f112c9cc.js"]).then(function(e){V=e.default}).catch(function(){})}catch{}var Ke=function(t,n){if(n&&X(n)==="object"){var s="";for(var a in n)s+="&"+encodeURIComponent(a)+"="+encodeURIComponent(n[a]);if(!s)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+s.slice(1)}return t},St=function(t,n,s,a){var o=function(m){if(!m.ok)return s(m.statusText||"Error",{status:m.status});m.text().then(function(c){s(null,{status:m.status,data:c})}).catch(s)};if(a){var i=a(t,n);if(i instanceof Promise){i.then(o).catch(s);return}}typeof fetch=="function"?fetch(t,n).then(o).catch(s):V(t,n).then(o).catch(s)},Et=!1,ba=function(t,n,s,a){t.queryStringParams&&(n=Ke(n,t.queryStringParams));var o=jt({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),s&&(o["Content-Type"]="application/json");var i=typeof t.requestOptions=="function"?t.requestOptions(s):t.requestOptions,l=jt({method:s?"POST":"GET",body:s?t.stringify(s):void 0,headers:o},Et?{}:i),m=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{St(n,l,a,m)}catch(c){if(!i||Object.keys(i).length===0||!c.message||c.message.indexOf("not implemented")<0)return a(c);try{Object.keys(i).forEach(function(d){delete l[d]}),St(n,l,a,m),Et=!0}catch(d){a(d)}}},wa=function(t,n,s,a){s&&X(s)==="object"&&(s=Ke("",s).slice(1)),t.queryStringParams&&(n=Ke(n,t.queryStringParams));try{var o=le?new le:new Se("MSXML2.XMLHTTP.3.0");o.open(s?"POST":"GET",n,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,s&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var i=t.customHeaders;if(i=typeof i=="function"?i():i,i)for(var l in i)o.setRequestHeader(l,i[l]);o.onreadystatechange=function(){o.readyState>3&&a(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(s)}catch(m){console&&console.log(m)}},ja=function(t,n,s,a){if(typeof s=="function"&&(a=s,s=void 0),a=a||function(){},V&&n.indexOf("file:")!==0)return ba(t,n,s,a);if(hs()||typeof ActiveXObject=="function")return wa(t,n,s,a);a(new Error("No fetch and no xhr implementation found!"))};function te(e){"@babel/helpers - typeof";return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(e)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nt(Object(n),!0).forEach(function(s){ps(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gs(s.key),s)}}function Ea(e,t,n){return t&&Ct(e.prototype,t),n&&Ct(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ps(e,t,n){return(t=gs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gs(e){var t=Na(e,"string");return te(t)=="symbol"?t:t+""}function Na(e,t){if(te(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(te(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ca=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,s,a){return ps({},s,a||"")},parseLoadPayload:function(n,s){},request:ja,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},xs=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Sa(this,e),this.services=t,this.options=n,this.allOptions=s,this.type="backend",this.init(t,n,s)}return Ea(e,[{key:"init",value:function(n){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=Me(Me(Me({},Ca()),this.options||{}),a),this.allOptions=o,this.services&&this.options.reloadInterval){var i=setInterval(function(){return s.reload()},this.options.reloadInterval);te(i)==="object"&&typeof i.unref=="function"&&i.unref()}}},{key:"readMulti",value:function(n,s,a){this._readAny(n,n,s,s,a)}},{key:"read",value:function(n,s,a){this._readAny([n],n,[s],s,a)}},{key:"_readAny",value:function(n,s,a,o,i){var l=this,m=this.options.loadPath;typeof this.options.loadPath=="function"&&(m=this.options.loadPath(n,a)),m=ga(m),m.then(function(c){if(!c)return i(null,{});var d=l.services.interpolator.interpolate(c,{lng:n.join("+"),ns:a.join("+")});l.loadUrl(d,i,s,o)})}},{key:"loadUrl",value:function(n,s,a,o){var i=this,l=typeof a=="string"?[a]:a,m=typeof o=="string"?[o]:o,c=this.options.parseLoadPayload(l,m);this.options.request(this.options,n,c,function(d,u){if(u&&(u.status>=500&&u.status<600||!u.status))return s("failed loading "+n+"; status code: "+u.status,!0);if(u&&u.status>=400&&u.status<500)return s("failed loading "+n+"; status code: "+u.status,!1);if(!u&&d&&d.message){var g=d.message.toLowerCase(),j=["failed","fetch","network","load"].find(function(y){return g.indexOf(y)>-1});if(j)return s("failed loading "+n+": "+d.message,!0)}if(d)return s(d,!1);var x,w;try{typeof u.data=="string"?x=i.options.parse(u.data,a,o):x=u.data}catch{w="failed parsing "+n+" to json"}if(w)return s(w,!1);s(null,x)})}},{key:"create",value:function(n,s,a,o,i){var l=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var m=this.options.parsePayload(s,a,o),c=0,d=[],u=[];n.forEach(function(g){var j=l.options.addPath;typeof l.options.addPath=="function"&&(j=l.options.addPath(g,s));var x=l.services.interpolator.interpolate(j,{lng:g,ns:s});l.options.request(l.options,x,m,function(w,y){c+=1,d.push(w),u.push(y),c===n.length&&typeof i=="function"&&i(d,u)})})}}},{key:"reload",value:function(){var n=this,s=this.services,a=s.backendConnector,o=s.languageUtils,i=s.logger,l=a.language;if(!(l&&l.toLowerCase()==="cimode")){var m=[],c=function(u){var g=o.toResolveHierarchy(u);g.forEach(function(j){m.indexOf(j)<0&&m.push(j)})};c(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return c(d)}),m.forEach(function(d){n.allOptions.ns.forEach(function(u){a.read(d,u,"read",null,null,function(g,j){g&&i.warn("loading namespace ".concat(u," for language ").concat(d," failed"),g),!g&&j&&i.log("loaded namespace ".concat(u," for language ").concat(d),j),a.loaded("".concat(d,"|").concat(u),g,j)})})})}}}])}();xs.type="backend";const Oa={loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",filter:"Filter",clear:"Clear",yes:"Yes",no:"No",confirm:"Confirm",back:"Back",next:"Next",previous:"Previous",close:"Close",submit:"Submit",reset:"Reset"},Ra={dashboard:"Dashboard",blog:"Blog Management",users:"User Management",organizations:"Organizations",events:"Events",resources:"Resources",activity:"Activity Logs",settings:"Settings",logout:"Logout"},ka={login:"Login",logout:"Logout",email:"Email",password:"Password",loginButton:"Sign In",loginError:"Invalid credentials",loginSuccess:"Login successful",logoutSuccess:"Logout successful",sessionExpired:"Session expired. Please login again."},Pa={title:"Admin Dashboard",welcome:"Welcome to AU-VLP Admin",stats:{totalUsers:"Total Users",totalOrganizations:"Total Organizations",totalBlogPosts:"Total Blog Posts",totalEvents:"Total Events"},recentActivity:"Recent Activity",quickActions:"Quick Actions"},Ta={title:"Blog Management",createPost:"Create New Post",editPost:"Edit Post",postTitle:"Post Title",postContent:"Content",category:"Category",tags:"Tags",status:"Status",published:"Published",draft:"Draft",author:"Author",publishDate:"Publish Date",deleteConfirm:"Are you sure you want to delete this post?"},Aa={title:"User Management",createUser:"Create New User",editUser:"Edit User",firstName:"First Name",lastName:"Last Name",email:"Email",role:"Role",organization:"Organization",status:"Status",active:"Active",inactive:"Inactive",lastLogin:"Last Login",deleteConfirm:"Are you sure you want to delete this user?"},_a={title:"Organization Management",createOrganization:"Create New Organization",editOrganization:"Edit Organization",name:"Organization Name",description:"Description",website:"Website",country:"Country",city:"City",contactEmail:"Contact Email",contactPhone:"Contact Phone",members:"Members",deleteConfirm:"Are you sure you want to delete this organization?"},La={title:"Event Management",createEvent:"Create New Event",editEvent:"Edit Event",eventTitle:"Event Title",description:"Description",startDate:"Start Date",endDate:"End Date",location:"Location",organizer:"Organizer",capacity:"Capacity",registrations:"Registrations",deleteConfirm:"Are you sure you want to delete this event?"},Da={title:"Resource Management",createResource:"Create New Resource",editResource:"Edit Resource",resourceTitle:"Resource Title",description:"Description",category:"Category",fileUrl:"File URL",downloadCount:"Downloads",deleteConfirm:"Are you sure you want to delete this resource?"},Ua={title:"Activity Logs",user:"User",action:"Action",timestamp:"Timestamp",details:"Details",filterByUser:"Filter by User",filterByAction:"Filter by Action",filterByDate:"Filter by Date"},Fa={required:"This field is required",email:"Please enter a valid email address",minLength:"Minimum length is {{min}} characters",maxLength:"Maximum length is {{max}} characters",passwordMatch:"Passwords do not match"},Ma={saveSuccess:"Changes saved successfully",saveError:"Failed to save changes",deleteSuccess:"Item deleted successfully",deleteError:"Failed to delete item",networkError:"Network error. Please try again.",unexpectedError:"An unexpected error occurred"},Ba={common:Oa,navigation:Ra,auth:ka,dashboard:Pa,blog:Ta,users:Aa,organizations:_a,events:La,resources:Da,activity:Ua,validation:Fa,messages:Ma},za={loading:"Chargement...",error:"Erreur",success:"Succès",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",create:"Créer",search:"Rechercher",filter:"Filtrer",clear:"Effacer",yes:"Oui",no:"Non",confirm:"Confirmer",back:"Retour",next:"Suivant",previous:"Précédent",close:"Fermer",submit:"Soumettre",reset:"Réinitialiser"},Ia={dashboard:"Tableau de bord",blog:"Gestion du blog",users:"Gestion des utilisateurs",organizations:"Organisations",events:"Événements",resources:"Ressources",activity:"Journaux d'activité",settings:"Paramètres",logout:"Déconnexion"},qa={login:"Connexion",logout:"Déconnexion",email:"Email",password:"Mot de passe",loginButton:"Se connecter",loginError:"Identifiants invalides",loginSuccess:"Connexion réussie",logoutSuccess:"Déconnexion réussie",sessionExpired:"Session expirée. Veuillez vous reconnecter."},$a={title:"Tableau de bord administrateur",welcome:"Bienvenue dans l'administration AU-VLP",stats:{totalUsers:"Total des utilisateurs",totalOrganizations:"Total des organisations",totalBlogPosts:"Total des articles de blog",totalEvents:"Total des événements"},recentActivity:"Activité récente",quickActions:"Actions rapides"},Ha={title:"Gestion du blog",createPost:"Créer un nouvel article",editPost:"Modifier l'article",postTitle:"Titre de l'article",postContent:"Contenu",category:"Catégorie",tags:"Étiquettes",status:"Statut",published:"Publié",draft:"Brouillon",author:"Auteur",publishDate:"Date de publication",deleteConfirm:"Êtes-vous sûr de vouloir supprimer cet article ?"},Va={title:"Gestion des utilisateurs",createUser:"Créer un nouvel utilisateur",editUser:"Modifier l'utilisateur",firstName:"Prénom",lastName:"Nom de famille",email:"Email",role:"Rôle",organization:"Organisation",status:"Statut",active:"Actif",inactive:"Inactif",lastLogin:"Dernière connexion",deleteConfirm:"Êtes-vous sûr de vouloir supprimer cet utilisateur ?"},Wa={title:"Gestion des organisations",createOrganization:"Créer une nouvelle organisation",editOrganization:"Modifier l'organisation",name:"Nom de l'organisation",description:"Description",website:"Site web",country:"Pays",city:"Ville",contactEmail:"Email de contact",contactPhone:"Téléphone de contact",members:"Membres",deleteConfirm:"Êtes-vous sûr de vouloir supprimer cette organisation ?"},Ka={title:"Gestion des événements",createEvent:"Créer un nouvel événement",editEvent:"Modifier l'événement",eventTitle:"Titre de l'événement",description:"Description",startDate:"Date de début",endDate:"Date de fin",location:"Lieu",organizer:"Organisateur",capacity:"Capacité",registrations:"Inscriptions",deleteConfirm:"Êtes-vous sûr de vouloir supprimer cet événement ?"},Ja={title:"Gestion des ressources",createResource:"Créer une nouvelle ressource",editResource:"Modifier la ressource",resourceTitle:"Titre de la ressource",description:"Description",category:"Catégorie",fileUrl:"URL du fichier",downloadCount:"Téléchargements",deleteConfirm:"Êtes-vous sûr de vouloir supprimer cette ressource ?"},Xa={title:"Journaux d'activité",user:"Utilisateur",action:"Action",timestamp:"Horodatage",details:"Détails",filterByUser:"Filtrer par utilisateur",filterByAction:"Filtrer par action",filterByDate:"Filtrer par date"},Qa={required:"Ce champ est obligatoire",email:"Veuillez saisir une adresse email valide",minLength:"La longueur minimale est de {{min}} caractères",maxLength:"La longueur maximale est de {{max}} caractères",passwordMatch:"Les mots de passe ne correspondent pas"},Ga={saveSuccess:"Modifications enregistrées avec succès",saveError:"Échec de l'enregistrement des modifications",deleteSuccess:"Élément supprimé avec succès",deleteError:"Échec de la suppression de l'élément",networkError:"Erreur réseau. Veuillez réessayer.",unexpectedError:"Une erreur inattendue s'est produite"},Ya={common:za,navigation:Ia,auth:qa,dashboard:$a,blog:Ha,users:Va,organizations:Wa,events:Ka,resources:Ja,activity:Xa,validation:Qa,messages:Ga},Za={loading:"جاري التحميل...",error:"خطأ",success:"نجح",save:"حفظ",cancel:"إلغاء",delete:"حذف",edit:"تعديل",create:"إنشاء",search:"بحث",filter:"تصفية",clear:"مسح",yes:"نعم",no:"لا",confirm:"تأكيد",back:"رجوع",next:"التالي",previous:"السابق",close:"إغلاق",submit:"إرسال",reset:"إعادة تعيين"},eo={dashboard:"لوحة التحكم",blog:"إدارة المدونة",users:"إدارة المستخدمين",organizations:"المنظمات",events:"الأحداث",resources:"الموارد",activity:"سجلات النشاط",settings:"الإعدادات",logout:"تسجيل الخروج"},to={login:"تسجيل الدخول",logout:"تسجيل الخروج",email:"البريد الإلكتروني",password:"كلمة المرور",loginButton:"تسجيل الدخول",loginError:"بيانات اعتماد غير صحيحة",loginSuccess:"تم تسجيل الدخول بنجاح",logoutSuccess:"تم تسجيل الخروج بنجاح",sessionExpired:"انتهت صلاحية الجلسة. يرجى تسجيل الدخول مرة أخرى."},so={title:"لوحة تحكم المدير",welcome:"مرحباً بك في إدارة AU-VLP",stats:{totalUsers:"إجمالي المستخدمين",totalOrganizations:"إجمالي المنظمات",totalBlogPosts:"إجمالي مقالات المدونة",totalEvents:"إجمالي الأحداث"},recentActivity:"النشاط الأخير",quickActions:"الإجراءات السريعة"},no={title:"إدارة المدونة",createPost:"إنشاء مقال جديد",editPost:"تعديل المقال",postTitle:"عنوان المقال",postContent:"المحتوى",category:"الفئة",tags:"العلامات",status:"الحالة",published:"منشور",draft:"مسودة",author:"المؤلف",publishDate:"تاريخ النشر",deleteConfirm:"هل أنت متأكد من أنك تريد حذف هذا المقال؟"},ro={title:"إدارة المستخدمين",createUser:"إنشاء مستخدم جديد",editUser:"تعديل المستخدم",firstName:"الاسم الأول",lastName:"اسم العائلة",email:"البريد الإلكتروني",role:"الدور",organization:"المنظمة",status:"الحالة",active:"نشط",inactive:"غير نشط",lastLogin:"آخر تسجيل دخول",deleteConfirm:"هل أنت متأكد من أنك تريد حذف هذا المستخدم؟"},ao={title:"إدارة المنظمات",createOrganization:"إنشاء منظمة جديدة",editOrganization:"تعديل المنظمة",name:"اسم المنظمة",description:"الوصف",website:"الموقع الإلكتروني",country:"البلد",city:"المدينة",contactEmail:"بريد التواصل",contactPhone:"هاتف التواصل",members:"الأعضاء",deleteConfirm:"هل أنت متأكد من أنك تريد حذف هذه المنظمة؟"},oo={title:"إدارة الأحداث",createEvent:"إنشاء حدث جديد",editEvent:"تعديل الحدث",eventTitle:"عنوان الحدث",description:"الوصف",startDate:"تاريخ البداية",endDate:"تاريخ النهاية",location:"الموقع",organizer:"المنظم",capacity:"السعة",registrations:"التسجيلات",deleteConfirm:"هل أنت متأكد من أنك تريد حذف هذا الحدث؟"},io={title:"إدارة الموارد",createResource:"إنشاء مورد جديد",editResource:"تعديل المورد",resourceTitle:"عنوان المورد",description:"الوصف",category:"الفئة",fileUrl:"رابط الملف",downloadCount:"التحميلات",deleteConfirm:"هل أنت متأكد من أنك تريد حذف هذا المورد؟"},lo={title:"سجلات النشاط",user:"المستخدم",action:"الإجراء",timestamp:"الطابع الزمني",details:"التفاصيل",filterByUser:"تصفية حسب المستخدم",filterByAction:"تصفية حسب الإجراء",filterByDate:"تصفية حسب التاريخ"},co={required:"هذا الحقل مطلوب",email:"يرجى إدخال عنوان بريد إلكتروني صحيح",minLength:"الحد الأدنى للطول هو {{min}} أحرف",maxLength:"الحد الأقصى للطول هو {{max}} أحرف",passwordMatch:"كلمات المرور غير متطابقة"},uo={saveSuccess:"تم حفظ التغييرات بنجاح",saveError:"فشل في حفظ التغييرات",deleteSuccess:"تم حذف العنصر بنجاح",deleteError:"فشل في حذف العنصر",networkError:"خطأ في الشبكة. يرجى المحاولة مرة أخرى.",unexpectedError:"حدث خطأ غير متوقع"},mo={common:Za,navigation:eo,auth:to,dashboard:so,blog:no,users:ro,organizations:ao,events:oo,resources:io,activity:lo,validation:co,messages:uo},fo={en:{translation:Ba},fr:{translation:Ya},ar:{translation:mo}};Cs.use(xs).use(fs).use(Os).init({resources:fo,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},backend:{loadPath:"/locales/{{lng}}.json"},react:{useSuspense:!1}});const ho=()=>(Zr(),p.useEffect(()=>{Ms.prefetchCommonData();const e=Lt.setupPeriodicSync(),t=localStorage.getItem("i18nextLng");return t==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar"):(document.documentElement.dir="ltr",document.documentElement.lang=t||"en"),e},[]),r.jsx(js,{children:r.jsxs("div",{className:"App",children:[r.jsxs(Ss,{children:[r.jsx(Q,{path:"/login",element:r.jsx(Ur,{})}),r.jsx(Q,{path:"/",element:r.jsx(oe,{children:r.jsx(kr,{})})}),r.jsx(Q,{path:"/blog",element:r.jsx(oe,{children:r.jsx(Br,{})})}),r.jsx(Q,{path:"/users",element:r.jsx(oe,{requiredRole:"super_admin",children:r.jsx(qr,{})})}),r.jsx(Q,{path:"/organizations",element:r.jsx(oe,{children:r.jsx(Vr,{})})}),r.jsx(Q,{path:"/activity-logs",element:r.jsx(oe,{children:r.jsx(Jr,{})})})]}),r.jsx(Gr,{})]})}));function po(){return r.jsx(Dt,{children:r.jsxs(Ns,{client:q,children:[r.jsx(Xr,{children:r.jsx(_r,{children:r.jsx(ho,{})})}),r.jsx(Ls.ReactQueryDevtools,{initialIsOpen:!1})]})})}const go=Be.createRoot(document.getElementById("root"));go.render(r.jsx(Ot.StrictMode,{children:r.jsx(po,{})}));
//# sourceMappingURL=index-c01b6acd.js.map
